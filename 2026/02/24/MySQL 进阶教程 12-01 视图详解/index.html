<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL 进阶教程 12-01 视图详解 | 过拟合的炸鱼薯条</title><meta name="author" content="过拟合的炸鱼薯条"><meta name="copyright" content="过拟合的炸鱼薯条"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MySQL 进阶教程 12-01 视图详解视图是数据库中的虚拟表，可以简化复杂查询、提高安全性。本文将详细介绍视图的概念、创建、使用和限制。 一、视图介绍及语法1.1 什么是视图？视图（View） 是基于 SQL 查询结果的虚拟表，视图本身不存储数据，只存储查询定义。 123视图 vs 表：├── 表：存储实际数据└── 视图：存储查询定义，数据来自基表  1.2 视图的作用   作用 说明">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 进阶教程 12-01 视图详解">
<meta property="og:url" content="https://brian-lin-c.github.io/2026/02/24/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%2012-01%20%E8%A7%86%E5%9B%BE%E8%AF%A6%E8%A7%A3/index.html">
<meta property="og:site_name" content="过拟合的炸鱼薯条">
<meta property="og:description" content="MySQL 进阶教程 12-01 视图详解视图是数据库中的虚拟表，可以简化复杂查询、提高安全性。本文将详细介绍视图的概念、创建、使用和限制。 一、视图介绍及语法1.1 什么是视图？视图（View） 是基于 SQL 查询结果的虚拟表，视图本身不存储数据，只存储查询定义。 123视图 vs 表：├── 表：存储实际数据└── 视图：存储查询定义，数据来自基表  1.2 视图的作用   作用 说明">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://brian-lin-c.github.io/img/%E5%A4%B4%E5%83%8F.jpg">
<meta property="article:published_time" content="2026-02-24T07:00:00.000Z">
<meta property="article:modified_time" content="2026-02-24T10:43:17.668Z">
<meta property="article:author" content="过拟合的炸鱼薯条">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="查询优化">
<meta property="article:tag" content="虚拟表">
<meta property="article:tag" content="视图">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://brian-lin-c.github.io/img/%E5%A4%B4%E5%83%8F.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "MySQL 进阶教程 12-01 视图详解",
  "url": "https://brian-lin-c.github.io/2026/02/24/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%2012-01%20%E8%A7%86%E5%9B%BE%E8%AF%A6%E8%A7%A3/",
  "image": "https://brian-lin-c.github.io/img/%E5%A4%B4%E5%83%8F.jpg",
  "datePublished": "2026-02-24T07:00:00.000Z",
  "dateModified": "2026-02-24T10:43:17.668Z",
  "author": [
    {
      "@type": "Person",
      "name": "过拟合的炸鱼薯条",
      "url": "https://brian-lin-c.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://brian-lin-c.github.io/2026/02/24/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%2012-01%20%E8%A7%86%E5%9B%BE%E8%AF%A6%E8%A7%A3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL 进阶教程 12-01 视图详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">68</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">157</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">过拟合的炸鱼薯条</span></a><a class="nav-page-title" href="/"><span class="site-name">MySQL 进阶教程 12-01 视图详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">MySQL 进阶教程 12-01 视图详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2026-02-24T07:00:00.000Z" title="发表于 2026-02-24 15:00:00">2026-02-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-02-24T10:43:17.668Z" title="更新于 2026-02-24 18:43:17">2026-02-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/MySQL-%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B/">MySQL 进阶教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>8分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="MySQL-进阶教程-12-01-视图详解"><a href="#MySQL-进阶教程-12-01-视图详解" class="headerlink" title="MySQL 进阶教程 12-01 视图详解"></a>MySQL 进阶教程 12-01 视图详解</h1><p>视图是数据库中的虚拟表，可以简化复杂查询、提高安全性。本文将详细介绍视图的概念、创建、使用和限制。</p>
<h2 id="一、视图介绍及语法"><a href="#一、视图介绍及语法" class="headerlink" title="一、视图介绍及语法"></a>一、视图介绍及语法</h2><h3 id="1-1-什么是视图？"><a href="#1-1-什么是视图？" class="headerlink" title="1.1 什么是视图？"></a>1.1 什么是视图？</h3><p><strong>视图（View）</strong> 是基于 SQL 查询结果的虚拟表，视图本身不存储数据，只存储查询定义。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">视图 vs 表：</span><br><span class="line">├── 表：存储实际数据</span><br><span class="line">└── 视图：存储查询定义，数据来自基表</span><br></pre></td></tr></table></figure>

<h3 id="1-2-视图的作用"><a href="#1-2-视图的作用" class="headerlink" title="1.2 视图的作用"></a>1.2 视图的作用</h3><table>
<thead>
<tr>
<th>作用</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>简化查询</td>
<td>将复杂查询封装为视图</td>
</tr>
<tr>
<td>数据安全</td>
<td>只暴露部分字段给用户</td>
</tr>
<tr>
<td>逻辑独立</td>
<td>基表结构变化不影响应用</td>
</tr>
<tr>
<td>重用 SQL</td>
<td>避免重复编写相同查询</td>
</tr>
</tbody></table>
<h3 id="1-3-创建视图语法"><a href="#1-3-创建视图语法" class="headerlink" title="1.3 创建视图语法"></a>1.3 创建视图语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 基本语法</span></span><br><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">OR</span> REPLACE] <span class="keyword">VIEW</span> view_name [(column_list)]</span><br><span class="line"><span class="keyword">AS</span> select_statement</span><br><span class="line">[<span class="keyword">WITH</span> [<span class="keyword">CASCADED</span> <span class="operator">|</span> <span class="keyword">LOCAL</span>] <span class="keyword">CHECK</span> OPTION];</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 示例：创建员工信息视图</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_emp_info <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> e.id, e.name, e.salary, d.dept_name</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用视图</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_emp_info <span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">10000</span>;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-查看视图"><a href="#1-4-查看视图" class="headerlink" title="1.4 查看视图"></a>1.4 查看视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看所有视图</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">FULL</span> TABLES <span class="keyword">WHERE</span> table_type <span class="operator">=</span> <span class="string">&#x27;VIEW&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看视图定义</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_emp_info;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 从 information_schema 查询</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> information_schema.views</span><br><span class="line"><span class="keyword">WHERE</span> table_schema <span class="operator">=</span> <span class="string">&#x27;your_db&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="1-5-修改视图"><a href="#1-5-修改视图" class="headerlink" title="1.5 修改视图"></a>1.5 修改视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 方法 1：CREATE OR REPLACE</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> v_emp_info <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> e.id, e.name, e.salary, d.dept_name, e.hire_date</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方法 2：ALTER VIEW</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">VIEW</span> v_emp_info <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> e.id, e.name, e.salary, d.dept_name, e.hire_date</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> e.dept_id <span class="operator">=</span> d.id;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-删除视图"><a href="#1-6-删除视图" class="headerlink" title="1.6 删除视图"></a>1.6 删除视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除单个视图</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> v_emp_info;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除多个视图</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> v_emp_info, v_dept_stats;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 安全删除（不存在时不报错）</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> IF <span class="keyword">EXISTS</span> v_emp_info;</span><br></pre></td></tr></table></figure>

<h2 id="二、检查选项-CASCADE"><a href="#二、检查选项-CASCADE" class="headerlink" title="二、检查选项 CASCADE"></a>二、检查选项 CASCADE</h2><h3 id="2-1-WITH-CHECK-OPTION-作用"><a href="#2-1-WITH-CHECK-OPTION-作用" class="headerlink" title="2.1 WITH CHECK OPTION 作用"></a>2.1 WITH CHECK OPTION 作用</h3><p><strong>WITH CHECK OPTION</strong> 确保通过视图进行的 INSERT&#x2F;UPDATE 操作必须满足视图的 WHERE 条件。</p>
<h3 id="2-2-CASCADED-选项"><a href="#2-2-CASCADED-选项" class="headerlink" title="2.2 CASCADED 选项"></a>2.2 CASCADED 选项</h3><p><strong>CASCADED</strong> 是默认选项，检查所有相关视图的条件。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建基表</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> employees (</span><br><span class="line">    id <span class="type">INT</span> <span class="keyword">PRIMARY KEY</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    dept_id <span class="type">INT</span>,</span><br><span class="line">    salary <span class="type">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建视图（只显示高薪员工）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_high_salary <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">10000</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CASCADED</span> <span class="keyword">CHECK</span> OPTION;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 通过视图插入数据</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_high_salary <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="number">1</span>, <span class="number">15000</span>);  <span class="comment">-- 成功</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_high_salary <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="number">1</span>, <span class="number">8000</span>);   <span class="comment">-- 失败！不满足 salary &gt; 10000</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-级联检查示例"><a href="#2-3-级联检查示例" class="headerlink" title="2.3 级联检查示例"></a>2.3 级联检查示例</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 多层视图</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_dept_1 <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">WHERE</span> dept_id <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CASCADED</span> <span class="keyword">CHECK</span> OPTION;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_dept_1_high <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_dept_1 <span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">10000</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CASCADED</span> <span class="keyword">CHECK</span> OPTION;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入数据会检查所有层级</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_dept_1_high <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="number">1</span>, <span class="number">15000</span>);  <span class="comment">-- 成功</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_dept_1_high <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="number">2</span>, <span class="number">15000</span>);  <span class="comment">-- 失败！dept_id != 1</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_dept_1_high <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="number">1</span>, <span class="number">8000</span>);   <span class="comment">-- 失败！salary &lt; 10000</span></span><br></pre></td></tr></table></figure>

<h2 id="三、检查选项-LOCAL"><a href="#三、检查选项-LOCAL" class="headerlink" title="三、检查选项 LOCAL"></a>三、检查选项 LOCAL</h2><h3 id="3-1-LOCAL-选项"><a href="#3-1-LOCAL-选项" class="headerlink" title="3.1 LOCAL 选项"></a>3.1 LOCAL 选项</h3><p><strong>LOCAL</strong> 只检查当前视图的条件，不检查底层视图的条件。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 使用 LOCAL</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_dept_1_local <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">WHERE</span> dept_id <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">LOCAL</span> <span class="keyword">CHECK</span> OPTION;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_dept_1_high_local <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_dept_1_local <span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">10000</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">LOCAL</span> <span class="keyword">CHECK</span> OPTION;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入数据</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_dept_1_high_local <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="number">1</span>, <span class="number">15000</span>);  <span class="comment">-- 成功</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_dept_1_high_local <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="number">2</span>, <span class="number">15000</span>);  <span class="comment">-- 失败！当前视图只检查 salary</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> v_dept_1_high_local <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="number">1</span>, <span class="number">8000</span>);   <span class="comment">-- 失败！不满足 salary &gt; 10000</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-CASCADED-vs-LOCAL-对比"><a href="#3-2-CASCADED-vs-LOCAL-对比" class="headerlink" title="3.2 CASCADED vs LOCAL 对比"></a>3.2 CASCADED vs LOCAL 对比</h3><table>
<thead>
<tr>
<th>选项</th>
<th>检查范围</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>CASCADED</td>
<td>检查所有层级视图</td>
<td>是</td>
</tr>
<tr>
<td>LOCAL</td>
<td>只检查当前视图</td>
<td>否</td>
</tr>
</tbody></table>
<h2 id="四、视图更新"><a href="#四、视图更新" class="headerlink" title="四、视图更新"></a>四、视图更新</h2><h3 id="4-1-可更新视图条件"><a href="#4-1-可更新视图条件" class="headerlink" title="4.1 可更新视图条件"></a>4.1 可更新视图条件</h3><p>视图可以 UPDATE&#x2F;DELETE&#x2F;INSERT 的条件：</p>
<ol>
<li>视图基于单个表</li>
<li>视图包含所有 NOT NULL 列</li>
<li>没有使用聚合函数</li>
<li>没有使用 DISTINCT</li>
<li>没有使用 GROUP BY</li>
<li>没有使用 HAVING</li>
<li>没有使用 UNION</li>
<li>没有使用子查询（某些情况）</li>
</ol>
<h3 id="4-2-可更新视图示例"><a href="#4-2-可更新视图示例" class="headerlink" title="4.2 可更新视图示例"></a>4.2 可更新视图示例</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 简单视图（可更新）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_emp_simple <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> id, name, salary <span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以通过视图更新</span></span><br><span class="line"><span class="keyword">UPDATE</span> v_emp_simple <span class="keyword">SET</span> salary <span class="operator">=</span> <span class="number">12000</span> <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">INSERT INTO</span> v_emp_simple <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="number">10000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="4-3-不可更新视图"><a href="#4-3-不可更新视图" class="headerlink" title="4.3 不可更新视图"></a>4.3 不可更新视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 包含聚合函数（不可更新）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_dept_stats <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> dept_id, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> emp_count, <span class="built_in">AVG</span>(salary) <span class="keyword">AS</span> avg_salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> dept_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 以下操作会失败</span></span><br><span class="line"><span class="keyword">UPDATE</span> v_dept_stats <span class="keyword">SET</span> emp_count <span class="operator">=</span> <span class="number">10</span> <span class="keyword">WHERE</span> dept_id <span class="operator">=</span> <span class="number">1</span>;  <span class="comment">-- 错误</span></span><br></pre></td></tr></table></figure>

<h3 id="4-4-INSTEAD-OF-触发器"><a href="#4-4-INSTEAD-OF-触发器" class="headerlink" title="4.4 INSTEAD OF 触发器"></a>4.4 INSTEAD OF 触发器</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- MySQL 不支持 INSTEAD OF 触发器</span></span><br><span class="line"><span class="comment">-- 可以使用 BEFORE 触发器模拟</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 场景：通过视图插入数据到多个表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_order_detail <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> o.id, o.order_no, c.name <span class="keyword">AS</span> customer_name</span><br><span class="line"><span class="keyword">FROM</span> orders o</span><br><span class="line"><span class="keyword">JOIN</span> customers c <span class="keyword">ON</span> o.customer_id <span class="operator">=</span> c.id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用触发器处理复杂插入</span></span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> trg_v_order_detail_insert</span><br><span class="line">BEFORE <span class="keyword">INSERT</span> <span class="keyword">ON</span> v_order_detail</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="comment">-- 先插入 customers 表</span></span><br><span class="line">    <span class="keyword">INSERT INTO</span> customers (name) <span class="keyword">VALUES</span> (NEW.customer_name);</span><br><span class="line">    <span class="keyword">SET</span> NEW.customer_id <span class="operator">=</span> LAST_INSERT_ID();</span><br><span class="line">    <span class="comment">-- 再插入 orders 表</span></span><br><span class="line">    <span class="keyword">INSERT INTO</span> orders (order_no, customer_id) <span class="keyword">VALUES</span> (NEW.order_no, NEW.customer_id);</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>

<h2 id="五、视图案例"><a href="#五、视图案例" class="headerlink" title="五、视图案例"></a>五、视图案例</h2><h3 id="5-1-简化复杂查询"><a href="#5-1-简化复杂查询" class="headerlink" title="5.1 简化复杂查询"></a>5.1 简化复杂查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 原始复杂查询</span></span><br><span class="line"><span class="keyword">SELECT</span> e.id, e.name, e.salary, d.dept_name, l.city</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> e.dept_id <span class="operator">=</span> d.id</span><br><span class="line"><span class="keyword">JOIN</span> locations l <span class="keyword">ON</span> d.location_id <span class="operator">=</span> l.id</span><br><span class="line"><span class="keyword">WHERE</span> e.salary <span class="operator">&gt;</span> <span class="number">10000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建视图简化</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_emp_detail <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> e.id, e.name, e.salary, d.dept_name, l.city</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> departments d <span class="keyword">ON</span> e.dept_id <span class="operator">=</span> d.id</span><br><span class="line"><span class="keyword">JOIN</span> locations l <span class="keyword">ON</span> d.location_id <span class="operator">=</span> l.id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用视图</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_emp_detail <span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">10000</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-数据安全"><a href="#5-2-数据安全" class="headerlink" title="5.2 数据安全"></a>5.2 数据安全</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建视图只暴露部分字段</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_emp_public <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> id, name, dept_id</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"><span class="comment">-- 不暴露 salary、phone 等敏感字段</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 授予视图权限</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> v_emp_public <span class="keyword">TO</span> <span class="string">&#x27;guest&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-逻辑独立性"><a href="#5-3-逻辑独立性" class="headerlink" title="5.3 逻辑独立性"></a>5.3 逻辑独立性</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 原始表结构</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> employees_v1 (</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    salary <span class="type">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建视图屏蔽底层变化</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_employees <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> id, name, salary <span class="keyword">FROM</span> employees_v1;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 表结构变化（添加列、改名）</span></span><br><span class="line"><span class="keyword">ALTER TABLE</span> employees_v1 <span class="keyword">ADD</span> <span class="keyword">COLUMN</span> bonus <span class="type">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line">RENAME <span class="keyword">TABLE</span> employees_v1 <span class="keyword">TO</span> employees_v2;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改视图定义，应用层无需修改</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> v_employees <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> id, name, salary <span class="keyword">FROM</span> employees_v2;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-统计视图"><a href="#5-4-统计视图" class="headerlink" title="5.4 统计视图"></a>5.4 统计视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建部门统计视图</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_dept_stats <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    d.dept_name,</span><br><span class="line">    <span class="built_in">COUNT</span>(e.id) <span class="keyword">AS</span> emp_count,</span><br><span class="line">    <span class="built_in">AVG</span>(e.salary) <span class="keyword">AS</span> avg_salary,</span><br><span class="line">    <span class="built_in">MAX</span>(e.salary) <span class="keyword">AS</span> max_salary,</span><br><span class="line">    <span class="built_in">MIN</span>(e.salary) <span class="keyword">AS</span> min_salary</span><br><span class="line"><span class="keyword">FROM</span> departments d</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> employees e <span class="keyword">ON</span> d.id <span class="operator">=</span> e.dept_id</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> d.id, d.dept_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用视图</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_dept_stats <span class="keyword">WHERE</span> emp_count <span class="operator">&gt;</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-5-行列转换视图"><a href="#5-5-行列转换视图" class="headerlink" title="5.5 行列转换视图"></a>5.5 行列转换视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 行转列</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_score_pivot <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    student_name,</span><br><span class="line">    <span class="built_in">MAX</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> subject <span class="operator">=</span> <span class="string">&#x27;数学&#x27;</span> <span class="keyword">THEN</span> score <span class="keyword">END</span>) <span class="keyword">AS</span> math,</span><br><span class="line">    <span class="built_in">MAX</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> subject <span class="operator">=</span> <span class="string">&#x27;语文&#x27;</span> <span class="keyword">THEN</span> score <span class="keyword">END</span>) <span class="keyword">AS</span> chinese,</span><br><span class="line">    <span class="built_in">MAX</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> subject <span class="operator">=</span> <span class="string">&#x27;英语&#x27;</span> <span class="keyword">THEN</span> score <span class="keyword">END</span>) <span class="keyword">AS</span> english</span><br><span class="line"><span class="keyword">FROM</span> scores</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> student_name;</span><br></pre></td></tr></table></figure>

<h2 id="六、视图性能"><a href="#六、视图性能" class="headerlink" title="六、视图性能"></a>六、视图性能</h2><h3 id="6-1-视图执行原理"><a href="#6-1-视图执行原理" class="headerlink" title="6.1 视图执行原理"></a>6.1 视图执行原理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">视图不是物化的，每次查询视图时：</span><br><span class="line">1. MySQL 将视图定义与查询合并</span><br><span class="line">2. 生成执行计划</span><br><span class="line">3. 执行查询</span><br><span class="line"></span><br><span class="line">所以视图本身不会提高性能，但也不会降低性能</span><br></pre></td></tr></table></figure>

<h3 id="6-2-物化视图"><a href="#6-2-物化视图" class="headerlink" title="6.2 物化视图"></a>6.2 物化视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- MySQL 不直接支持物化视图</span></span><br><span class="line"><span class="comment">-- 可以使用表模拟</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建物化表</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> mv_dept_stats <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> dept_id, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> emp_count, <span class="built_in">AVG</span>(salary) <span class="keyword">AS</span> avg_salary</span><br><span class="line"><span class="keyword">FROM</span> employees <span class="keyword">GROUP</span> <span class="keyword">BY</span> dept_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 定期刷新</span></span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> refresh_mv_stats()</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> mv_dept_stats;</span><br><span class="line">    <span class="keyword">INSERT INTO</span> mv_dept_stats</span><br><span class="line">    <span class="keyword">SELECT</span> dept_id, <span class="built_in">COUNT</span>(<span class="operator">*</span>), <span class="built_in">AVG</span>(salary)</span><br><span class="line">    <span class="keyword">FROM</span> employees <span class="keyword">GROUP</span> <span class="keyword">BY</span> dept_id;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>

<h2 id="七、小结"><a href="#七、小结" class="headerlink" title="七、小结"></a>七、小结</h2><h3 id="核心知识点"><a href="#核心知识点" class="headerlink" title="核心知识点"></a>核心知识点</h3><ol>
<li><strong>视图概念</strong>：虚拟表，存储查询定义</li>
<li><strong>创建视图</strong>：CREATE VIEW AS SELECT</li>
<li><strong>检查选项</strong>：CASCADED（级联检查）、LOCAL（只检查当前）</li>
<li><strong>视图更新</strong>：简单视图可更新，复杂视图不可更新</li>
<li><strong>视图作用</strong>：简化查询、数据安全、逻辑独立</li>
</ol>
<h3 id="视图使用建议"><a href="#视图使用建议" class="headerlink" title="视图使用建议"></a>视图使用建议</h3><table>
<thead>
<tr>
<th>场景</th>
<th>建议</th>
</tr>
</thead>
<tbody><tr>
<td>复杂查询</td>
<td>使用视图封装</td>
</tr>
<tr>
<td>敏感数据</td>
<td>创建视图限制访问</td>
</tr>
<tr>
<td>报表统计</td>
<td>考虑物化视图</td>
</tr>
<tr>
<td>频繁更新</td>
<td>避免复杂视图</td>
</tr>
</tbody></table>
<h3 id="下一章预告"><a href="#下一章预告" class="headerlink" title="下一章预告"></a>下一章预告</h3><p>下一篇文章将介绍<strong>存储过程与函数</strong>，包括：</p>
<ul>
<li>存储过程语法</li>
<li>变量和参数</li>
<li>流程控制</li>
<li>游标和异常处理</li>
</ul>
<hr>
<p><strong>下一篇</strong>：[MySQL 进阶教程 13-01 存储过程与函数](&#x2F;2026&#x2F;02&#x2F;24&#x2F;MySQL 进阶教程 13-01 存储过程与函数&#x2F;)</p>
<p><strong>上一篇</strong>：[MySQL 进阶教程 11-01 InnoDB 存储引擎深入](&#x2F;2026&#x2F;02&#x2F;24&#x2F;MySQL 进阶教程 11-01 InnoDB 存储引擎深入&#x2F;)</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://brian-lin-c.github.io">过拟合的炸鱼薯条</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://brian-lin-c.github.io/2026/02/24/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%2012-01%20%E8%A7%86%E5%9B%BE%E8%AF%A6%E8%A7%A3/">https://brian-lin-c.github.io/2026/02/24/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%2012-01%20%E8%A7%86%E5%9B%BE%E8%AF%A6%E8%A7%A3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://brian-lin-c.github.io" target="_blank">过拟合的炸鱼薯条</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a><a class="post-meta__tags" href="/tags/%E8%A7%86%E5%9B%BE/">视图</a><a class="post-meta__tags" href="/tags/%E8%99%9A%E6%8B%9F%E8%A1%A8/">虚拟表</a><a class="post-meta__tags" href="/tags/%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/">查询优化</a></div><div class="post-share"><div class="social-share" data-image="/img/%E5%A4%B4%E5%83%8F.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2026/02/24/Python%20%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%EF%BC%88%E4%BA%8C%EF%BC%89Pandas%20%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" title="Python 数据科学（二）Pandas 数据处理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Python 数据科学（二）Pandas 数据处理</div></div><div class="info-2"><div class="info-item-1">Python 数据科学（二）Pandas 数据处理Pandas 是 Python 数据分析的核心库。本篇将详细介绍 DataFrame 操作、数据清洗、数据转换等核心技能。 一、Pandas 简介1.1 为什么使用 Pandas？ 数据处理强大：支持 CSV、Excel、SQL、JSON 等多种格式 DataFrame 结构：类似 Excel 表格，直观易用 数据清洗方便：处理缺失值、重复值、异常值 数据分析功能：分组、聚合、透视表 与 NumPy 兼容：底层使用 NumPy，性能优秀  1.2 安装与导入1pip install pandas  123456789import pandas as pdimport numpy as np# 查看版本print(pd.__version__)# 设置显示选项pd.set_option(&#x27;display.max_columns&#x27;, None)  # 显示所有列pd.set_option(&#x27;display.width&#x27;, None)        # 自适应宽度  二、Series 和 Data...</div></div></div></a><a class="pagination-related" href="/2026/02/24/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%2004-06%20NTILE%20%E5%88%86%E6%A1%B6%E5%87%BD%E6%95%B0/" title="MySQL 进阶教程 04-06 NTILE 分桶函数"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">MySQL 进阶教程 04-06 NTILE 分桶函数</div></div><div class="info-2"><div class="info-item-1">MySQL 进阶教程 04-06 NTILE 分桶函数NTILE 函数用于将有序数据分成指定数量的组（桶），常用于排名分组、百分位计算等场景。本文将详细讲解 NTILE 函数的使用方法。 一、NTILE 函数基础1.1 函数语法1234NTILE(n) OVER (    [PARTITION BY 列名]    ORDER BY 列名)  参数说明：    参数 说明    n 要分成的桶数量（正整数）   返回值：  返回 1 到 n 之间的整数 表示该行所属的桶编号  1.2 测试数据准备1234567891011121314151617181920-- 准备学生成绩数据DROP TABLE IF EXISTS scores;CREATE TABLE scores (    id INT PRIMARY KEY AUTO_INCREMENT,    student_name VARCHAR(50) NOT NULL,    subject VARCHAR(20) NOT NULL,    score INT NOT NULL) ENGINE=InnoDB DEFAULT C...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2026/02/24/MySQL%20%E8%BF%90%E7%BB%B4%E7%AF%87%2004-07%20MyCat%20%E8%8C%83%E5%9B%B4%E5%88%86%E7%89%87/" title="MySQL 运维篇 04-07 MyCat 范围分片"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-24</div><div class="info-item-2">MySQL 运维篇 04-07 MyCat 范围分片</div></div><div class="info-2"><div class="info-item-1">MySQL 运维篇 04-07 MyCat 范围分片范围分片是按照某个字段的范围进行数据分片。本文将介绍如何使用 MyCat 实现范围分片。 一、范围分片介绍1.1 什么是范围分片范围分片：根据分片键的值范围将数据分布到不同的分片中。 1234按 ID 范围分片：分片 0: id 1-1000000分片 1: id 1000001-2000000分片 2: id 2000001-3000000  1.2 适用场景   场景 说明    日期数据 按时间范围归档   有序 ID 按 ID 范围分布   地区数据 按地区编码范围   1.3 优缺点优点：  范围查询效率高 便于历史数据归档 扩容相对容易  缺点：  数据可能分布不均 热点问题（最新数据集中）  二、按日期范围分片2.1 配置rule.yml： 123456789101112tableRules:  - name: range-date    function: range-date    columns: created_atfunctions:  - name: range-date    className: i...</div></div></div></a><a class="pagination-related" href="/2026/02/24/MySQL%20%E8%BF%90%E7%BB%B4%E7%AF%87%2002-04%20%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E4%BB%8E%E5%BA%93%E9%85%8D%E7%BD%AE/" title="MySQL 运维篇 02-04 主从复制从库配置"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-24</div><div class="info-item-2">MySQL 运维篇 02-04 主从复制从库配置</div></div><div class="info-2"><div class="info-item-1">MySQL 运维篇 02-04 主从复制从库配置本文将详细讲解主从复制中从库的配置步骤，包括配置文件修改、数据恢复、复制连接等。 一、配置前准备1.1 环境信息   服务器 IP 地址 角色 server_id    master 192.168.1.100 主库 1   slave1 192.168.1.101 从库 2   1.2 主库配置完成确认在配置从库前，确保主库已完成：   binlog 已开启  server_id 已设置  复制用户已创建  防火墙已配置  已记录 binlog 位置（File 和 Position）  二、从库配置文件修改2.1 必需配置项1234567891011121314151617181920[mysqld]# ===== 复制必需配置 =====# 1. server_id（必须唯一，不能与主库和其他从库重复）server_id = 2# 2. relay log 配置relay_log = /var/log/mysql/mysql-relay-bin.logrelay_log_index = /var/log/mysql/mysql-...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%89%EF%BC%89DML%20%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80%E8%AF%A6%E8%A7%A3/" title="MySQL 基础教程（三）DML 数据操作语言详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 基础教程（三）DML 数据操作语言详解</div></div><div class="info-2"><div class="info-item-1">MySQL 基础教程（三）DML 数据操作语言详解在上一篇文章中，我们学习了如何使用 DDL 创建和管理数据库表结构。本文我们将学习 DML（Data Manipulation Language）数据操作语言，掌握如何对表中的数据进行插入、更新和删除操作。 一、DML 概述DML 用于对数据库表中的数据进行操作，主要包括：    命令 功能 特点    INSERT 插入数据 添加新记录   UPDATE 更新数据 修改现有记录   DELETE 删除数据 删除符合条件的记录   TRUNCATE 清空表 删除全部记录并重置自增   DML 的特点：  操作的是数据内容，不影响表结构 在事务中可回滚（需要关闭自动提交） 可以配合 WHERE 子句进行条件操作  二、插入数据（INSERT）2.1 基础插入语法123-- 语法INSERT INTO 表名 (列 1, 列 2, ..., 列 n)VALUES (值 1, 值 2, ..., 值 n);  2.2 插入单条记录首先创建测试表： 123456789-- 创建测试表CREATE TABLE employees (    i...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="MySQL 基础教程（一）数据库基础与环境搭建"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 基础教程（一）数据库基础与环境搭建</div></div><div class="info-2"><div class="info-item-1">MySQL 基础教程（一）数据库基础与环境搭建欢迎来到 MySQL 基础教程系列的第一篇！在本篇文章中，我们将从零开始了解数据库的基本概念，完成 MySQL 的安装配置，并了解数据模型和 SQL 的分类。 一、数据库相关概念1.1 什么是数据库？数据库（Database） 是按照数据结构来组织、存储和管理数据的仓库。它可以持久化存储数据，并且支持高效的数据访问和管理。 简单来说，数据库就是一个电子化的文件柜，用于存储和管理数据。 1.2 什么是 DBMS？DBMS（Database Management System，数据库管理系统） 是用于创建、管理和维护数据库的软件。 常见的 DBMS 有：  MySQL：开源、轻量、流行，适合中小型项目 Oracle：功能强大、性能优异，适合大型企业 SQL Server：微软出品，与 Windows 生态集成良好 PostgreSQL：开源、功能丰富，支持复杂查询 SQLite：嵌入式数据库，适合移动端和小型应用  1.3 数据库的优势   对比项 文件系统 数据库系统    数据结构 松散，由应用程序定义 结构化，由 DBMS 统一管理...</div></div></div></a><a class="pagination-related" href="/2026/02/24/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%2013-01%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%87%BD%E6%95%B0/" title="MySQL 进阶教程 13-01 存储过程与函数"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-24</div><div class="info-item-2">MySQL 进阶教程 13-01 存储过程与函数</div></div><div class="info-2"><div class="info-item-1">MySQL 进阶教程 13-01 存储过程与函数存储过程和函数是存储在数据库中的程序，可以封装复杂业务逻辑、提高代码复用性。本文将详细介绍存储过程与函数的语法、变量、流程控制和游标使用。 一、存储过程介绍1.1 什么是存储过程？存储过程（Stored Procedure） 是预编译并存储在数据库中的 SQL 程序，可以接受参数、执行复杂逻辑、返回结果。 1.2 存储过程的优点   优点 说明    代码复用 一次编写，多次调用   性能提升 预编译，减少网络传输   安全性高 可以限制直接访问表   维护方便 逻辑集中在数据库层   1.3 存储过程的缺点   缺点 说明    可移植性差 不同数据库语法不同   调试困难 缺乏好的调试工具   服务器压力 逻辑在数据库层执行   二、存储过程基本语法2.1 创建存储过程12345678910111213141516171819202122-- 基本语法DELIMITER $$CREATE PROCEDURE procedure_name([IN|OUT|INOUT] param_name type, ...)BEGIN    -...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%94%EF%BC%89DCL%20%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80%E8%AF%A6%E8%A7%A3/" title="MySQL 基础教程（五）DCL 数据控制语言详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 基础教程（五）DCL 数据控制语言详解</div></div><div class="info-2"><div class="info-item-1">MySQL 基础教程（五）DCL 数据控制语言详解DCL（Data Control Language，数据控制语言）用于管理数据库权限和事务控制。本文我们将学习如何创建用户、管理权限，以及事务控制的相关知识。 一、DCL 概述DCL 主要包含两类操作：  权限管理：GRANT（授权）、REVOKE（撤销权限） 事务控制：COMMIT（提交）、ROLLBACK（回滚）、SAVEPOINT（保存点）     命令 功能 分类    GRANT 授予用户权限 权限管理   REVOKE 撤销用户权限 权限管理   COMMIT 提交事务 事务控制   ROLLBACK 回滚事务 事务控制   SAVEPOINT 设置保存点 事务控制   二、用户管理2.1 用户表结构MySQL 的用户信息存储在 mysql.user 表中： 12345-- 查看所有用户SELECT user, host FROM mysql.user;-- 查看用户详细信息SELECT user, host, authentication_string, plugin FROM mysql.user;  用户名的组成...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">过拟合的炸鱼薯条</div><div class="author-info-description">好好学习，天天向上</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">68</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">157</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Brian-Lin-C"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Brian-Lin-C" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的个人博客！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL-%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B-12-01-%E8%A7%86%E5%9B%BE%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">MySQL 进阶教程 12-01 视图详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D%E5%8F%8A%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">一、视图介绍及语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%86%E5%9B%BE%EF%BC%9F"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 什么是视图？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 视图的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 创建视图语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%9B%BE"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4 查看视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE"><span class="toc-number">1.1.5.</span> <span class="toc-text">1.5 修改视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="toc-number">1.1.6.</span> <span class="toc-text">1.6 删除视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%A3%80%E6%9F%A5%E9%80%89%E9%A1%B9-CASCADE"><span class="toc-number">1.2.</span> <span class="toc-text">二、检查选项 CASCADE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-WITH-CHECK-OPTION-%E4%BD%9C%E7%94%A8"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 WITH CHECK OPTION 作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-CASCADED-%E9%80%89%E9%A1%B9"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 CASCADED 选项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E7%BA%A7%E8%81%94%E6%A3%80%E6%9F%A5%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 级联检查示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%A3%80%E6%9F%A5%E9%80%89%E9%A1%B9-LOCAL"><span class="toc-number">1.3.</span> <span class="toc-text">三、检查选项 LOCAL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-LOCAL-%E9%80%89%E9%A1%B9"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 LOCAL 选项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-CASCADED-vs-LOCAL-%E5%AF%B9%E6%AF%94"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 CASCADED vs LOCAL 对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E8%A7%86%E5%9B%BE%E6%9B%B4%E6%96%B0"><span class="toc-number">1.4.</span> <span class="toc-text">四、视图更新</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%8F%AF%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 可更新视图条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%8F%AF%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2 可更新视图示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E4%B8%8D%E5%8F%AF%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3 不可更新视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-INSTEAD-OF-%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">1.4.4.</span> <span class="toc-text">4.4 INSTEAD OF 触发器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%A7%86%E5%9B%BE%E6%A1%88%E4%BE%8B"><span class="toc-number">1.5.</span> <span class="toc-text">五、视图案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%AE%80%E5%8C%96%E5%A4%8D%E6%9D%82%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 简化复杂查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 数据安全</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E9%80%BB%E8%BE%91%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3 逻辑独立性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E7%BB%9F%E8%AE%A1%E8%A7%86%E5%9B%BE"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4 统计视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E8%A1%8C%E5%88%97%E8%BD%AC%E6%8D%A2%E8%A7%86%E5%9B%BE"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.5 行列转换视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E8%A7%86%E5%9B%BE%E6%80%A7%E8%83%BD"><span class="toc-number">1.6.</span> <span class="toc-text">六、视图性能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E8%A7%86%E5%9B%BE%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 视图执行原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E7%89%A9%E5%8C%96%E8%A7%86%E5%9B%BE"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2 物化视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%B0%8F%E7%BB%93"><span class="toc-number">1.7.</span> <span class="toc-text">七、小结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">1.7.1.</span> <span class="toc-text">核心知识点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.7.2.</span> <span class="toc-text">视图使用建议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E7%AB%A0%E9%A2%84%E5%91%8A"><span class="toc-number">1.7.3.</span> <span class="toc-text">下一章预告</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/IDE%20%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE%EF%BC%9AVS%20Code%20+%20Jupyter%20+%20DataGrip/" title="IDE 工具配置：VS Code + Jupyter + DataGrip">IDE 工具配置：VS Code + Jupyter + DataGrip</a><time datetime="2026-02-24T15:00:00.000Z" title="发表于 2026-02-24 23:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/Git%20%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C/" title="Git 版本控制与团队协作">Git 版本控制与团队协作</a><time datetime="2026-02-24T14:00:00.000Z" title="发表于 2026-02-24 22:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/Linux%20%E4%B8%8E%20Shell%EF%BC%88%E4%BA%8C%EF%BC%89Shell%20%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99/" title="Linux 与 Shell（二）Shell 脚本编写">Linux 与 Shell（二）Shell 脚本编写</a><time datetime="2026-02-24T13:00:00.000Z" title="发表于 2026-02-24 21:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E8%AF%A6%E8%A7%A3%20-%20%E7%BB%B4%E5%BA%A6%E5%BB%BA%E6%A8%A1%E3%80%81%E6%95%B0%E6%8D%AE%E5%88%86%E5%B1%82%E4%B8%8E%20SCD%20%E5%A4%84%E7%90%86/" title="数据仓库核心概念详解 - 维度建模、数据分层与 SCD 处理">数据仓库核心概念详解 - 维度建模、数据分层与 SCD 处理</a><time datetime="2026-02-24T13:00:00.000Z" title="发表于 2026-02-24 21:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/MySQL%20%E8%BF%90%E7%BB%B4%E7%AF%87%2004-10%20MyCat%20%E7%AE%A1%E7%90%86%E4%B8%8E%E7%9B%91%E6%8E%A7/" title="MySQL 运维篇 04-10 MyCat 管理与监控">MySQL 运维篇 04-10 MyCat 管理与监控</a><time datetime="2026-02-24T12:05:00.000Z" title="发表于 2026-02-24 20:05:00">2026-02-24</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By 过拟合的炸鱼薯条</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.4</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索..." type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>