<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL 进阶教程（一）常用函数详解 | 过拟合的炸鱼薯条</title><meta name="author" content="过拟合的炸鱼薯条"><meta name="copyright" content="过拟合的炸鱼薯条"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MySQL 进阶教程（一）常用函数详解在基础教程中，我们学习了 SQL 的基本查询和操作。本文将系统讲解 MySQL 提供的常用内置函数，包括字符串函数、数值函数、日期函数和流程函数。 一、函数概述MySQL 函数是对数据进行特定操作的预定义程序，可以简化 SQL 语句，提高开发效率。 函数的分类：  字符串函数：处理字符串数据 数值函数：处理数值数据 日期时间函数：处理日期和时间 流程函数：条件">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 进阶教程（一）常用函数详解">
<meta property="og:url" content="https://brian-lin-c.github.io/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/index.html">
<meta property="og:site_name" content="过拟合的炸鱼薯条">
<meta property="og:description" content="MySQL 进阶教程（一）常用函数详解在基础教程中，我们学习了 SQL 的基本查询和操作。本文将系统讲解 MySQL 提供的常用内置函数，包括字符串函数、数值函数、日期函数和流程函数。 一、函数概述MySQL 函数是对数据进行特定操作的预定义程序，可以简化 SQL 语句，提高开发效率。 函数的分类：  字符串函数：处理字符串数据 数值函数：处理数值数据 日期时间函数：处理日期和时间 流程函数：条件">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://brian-lin-c.github.io/img/%E5%A4%B4%E5%83%8F.jpg">
<meta property="article:published_time" content="2026-02-23T07:00:00.000Z">
<meta property="article:modified_time" content="2026-02-23T03:52:07.088Z">
<meta property="article:author" content="过拟合的炸鱼薯条">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="内置函数">
<meta property="article:tag" content="函数">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://brian-lin-c.github.io/img/%E5%A4%B4%E5%83%8F.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "MySQL 进阶教程（一）常用函数详解",
  "url": "https://brian-lin-c.github.io/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/",
  "image": "https://brian-lin-c.github.io/img/%E5%A4%B4%E5%83%8F.jpg",
  "datePublished": "2026-02-23T07:00:00.000Z",
  "dateModified": "2026-02-23T03:52:07.088Z",
  "author": [
    {
      "@type": "Person",
      "name": "过拟合的炸鱼薯条",
      "url": "https://brian-lin-c.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://brian-lin-c.github.io/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL 进阶教程（一）常用函数详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">68</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">过拟合的炸鱼薯条</span></a><a class="nav-page-title" href="/"><span class="site-name">MySQL 进阶教程（一）常用函数详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">MySQL 进阶教程（一）常用函数详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2026-02-23T07:00:00.000Z" title="发表于 2026-02-23 15:00:00">2026-02-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-02-23T03:52:07.088Z" title="更新于 2026-02-23 11:52:07">2026-02-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/MySQL-%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B/">MySQL 进阶教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">4.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>22分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="MySQL-进阶教程（一）常用函数详解"><a href="#MySQL-进阶教程（一）常用函数详解" class="headerlink" title="MySQL 进阶教程（一）常用函数详解"></a>MySQL 进阶教程（一）常用函数详解</h1><p>在基础教程中，我们学习了 SQL 的基本查询和操作。本文将系统讲解 MySQL 提供的常用内置函数，包括字符串函数、数值函数、日期函数和流程函数。</p>
<h2 id="一、函数概述"><a href="#一、函数概述" class="headerlink" title="一、函数概述"></a>一、函数概述</h2><p>MySQL 函数是对数据进行特定操作的预定义程序，可以简化 SQL 语句，提高开发效率。</p>
<p><strong>函数的分类</strong>：</p>
<ul>
<li><strong>字符串函数</strong>：处理字符串数据</li>
<li><strong>数值函数</strong>：处理数值数据</li>
<li><strong>日期时间函数</strong>：处理日期和时间</li>
<li><strong>流程函数</strong>：条件判断和流程控制</li>
<li><strong>聚合函数</strong>：对一组数据进行计算（已在 DQL 章节讲解）</li>
<li><strong>加密函数</strong>：数据加密和哈希</li>
<li><strong>其他函数</strong>：信息函数、加锁函数等</li>
</ul>
<h2 id="二、字符串函数"><a href="#二、字符串函数" class="headerlink" title="二、字符串函数"></a>二、字符串函数</h2><h3 id="2-1-字符串连接与长度"><a href="#2-1-字符串连接与长度" class="headerlink" title="2.1 字符串连接与长度"></a>2.1 字符串连接与长度</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- CONCAT(s1, s2, ...)：连接字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;Hello&#x27;</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;World&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Hello World&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;姓名：&#x27;</span>, name) <span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- CONCAT_WS(separator, s1, s2, ...)：用分隔符连接</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT_WS(<span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;2024&#x27;</span>, <span class="string">&#x27;02&#x27;</span>, <span class="string">&#x27;20&#x27;</span>) <span class="keyword">AS</span> <span class="type">date</span>;  <span class="comment">-- &#x27;2024-02-20&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT_WS(<span class="string">&#x27; &#x27;</span>, first_name, last_name) <span class="keyword">AS</span> full_name <span class="keyword">FROM</span> users;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- LENGTH(s)：返回字符串长度（字节）</span></span><br><span class="line"><span class="keyword">SELECT</span> LENGTH(<span class="string">&#x27;hello&#x27;</span>) <span class="keyword">AS</span> len;  <span class="comment">-- 5</span></span><br><span class="line"><span class="keyword">SELECT</span> LENGTH(<span class="string">&#x27;你好&#x27;</span>) <span class="keyword">AS</span> len;   <span class="comment">-- 6（UTF-8 中一个汉字 3 字节）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- CHAR_LENGTH(s)：返回字符数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CHAR_LENGTH</span>(<span class="string">&#x27;hello&#x27;</span>) <span class="keyword">AS</span> len;  <span class="comment">-- 5</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CHAR_LENGTH</span>(<span class="string">&#x27;你好&#x27;</span>) <span class="keyword">AS</span> len;    <span class="comment">-- 2</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-大小写转换"><a href="#2-2-大小写转换" class="headerlink" title="2.2 大小写转换"></a>2.2 大小写转换</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- UPPER(s) 或 UCASE(s)：转大写</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">UPPER</span>(<span class="string">&#x27;hello&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;HELLO&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> name, <span class="built_in">UPPER</span>(name) <span class="keyword">AS</span> upper_name <span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- LOWER(s) 或 LCASE(s)：转小写</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;HELLO&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> email, <span class="built_in">LOWER</span>(email) <span class="keyword">AS</span> lower_email <span class="keyword">FROM</span> users;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-字符串截取"><a href="#2-3-字符串截取" class="headerlink" title="2.3 字符串截取"></a>2.3 字符串截取</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- LEFT(s, n)：返回左边 n 个字符</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">LEFT</span>(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">5</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- RIGHT(s, n)：返回右边 n 个字符</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">RIGHT</span>(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">5</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;World&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SUBSTRING(s, pos, len)：从位置 pos 开始截取 len 个字符</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">1</span>, <span class="number">5</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Hello&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">7</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;     <span class="comment">-- &#x27;World&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SUBSTRING(s, pos FROM len)：另一种语法</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;Hello World&#x27;</span> <span class="keyword">FROM</span> <span class="number">1</span> <span class="keyword">FOR</span> <span class="number">5</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MID(s, pos, len)：同 SUBSTRING</span></span><br><span class="line"><span class="keyword">SELECT</span> MID(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">7</span>, <span class="number">5</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;World&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：MySQL 中字符串位置从 1 开始，不是从 0 开始！</p>
<h3 id="2-4-字符串查找与替换"><a href="#2-4-字符串查找与替换" class="headerlink" title="2.4 字符串查找与替换"></a>2.4 字符串查找与替换</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- INSTR(s, substr)：返回子串第一次出现的位置</span></span><br><span class="line"><span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;Hello World&#x27;</span>, <span class="string">&#x27;o&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 5</span></span><br><span class="line"><span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;Hello World&#x27;</span>, <span class="string">&#x27;xyz&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 0（未找到）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- LOCATE(substr, s)：同 INSTR</span></span><br><span class="line"><span class="keyword">SELECT</span> LOCATE(<span class="string">&#x27;World&#x27;</span>, <span class="string">&#x27;Hello World&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- REPLACE(s, from_str, to_str)：替换字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> REPLACE(<span class="string">&#x27;Hello World&#x27;</span>, <span class="string">&#x27;World&#x27;</span>, <span class="string">&#x27;MySQL&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Hello MySQL&#x27;</span></span><br><span class="line"><span class="keyword">UPDATE</span> products <span class="keyword">SET</span> description <span class="operator">=</span> REPLACE(description, <span class="string">&#x27;旧版&#x27;</span>, <span class="string">&#x27;新版&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- INSERT(str, pos, len, newstr)：在指定位置插入/替换字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">INSERT</span>(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="string">&#x27;MySQL&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Hello MySQL&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-5-去除空格"><a href="#2-5-去除空格" class="headerlink" title="2.5 去除空格"></a>2.5 去除空格</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- TRIM(s)：去除两端空格</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;[&#x27;</span>, <span class="built_in">TRIM</span>(<span class="string">&#x27;  hello  &#x27;</span>), <span class="string">&#x27;]&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;[hello]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- LTRIM(s)：去除左边空格</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;[&#x27;</span>, LTRIM(<span class="string">&#x27;  hello  &#x27;</span>), <span class="string">&#x27;]&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;[hello  ]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- RTRIM(s)：去除右边空格</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;[&#x27;</span>, RTRIM(<span class="string">&#x27;  hello  &#x27;</span>), <span class="string">&#x27;]&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;[  hello]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 去除指定字符（MySQL 特有）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TRIM</span>(<span class="keyword">BOTH</span> <span class="string">&#x27;x&#x27;</span> <span class="keyword">FROM</span> <span class="string">&#x27;xxxhelloxxx&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TRIM</span>(<span class="keyword">LEADING</span> <span class="string">&#x27;x&#x27;</span> <span class="keyword">FROM</span> <span class="string">&#x27;xxxhelloxxx&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;helloxxx&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TRIM</span>(<span class="keyword">TRAILING</span> <span class="string">&#x27;x&#x27;</span> <span class="keyword">FROM</span> <span class="string">&#x27;xxxhelloxxx&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;xxxhello&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-6-字符串填充"><a href="#2-6-字符串填充" class="headerlink" title="2.6 字符串填充"></a>2.6 字符串填充</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- LPAD(s, len, pad)：左填充</span></span><br><span class="line"><span class="keyword">SELECT</span> LPAD(<span class="string">&#x27;123&#x27;</span>, <span class="number">8</span>, <span class="string">&#x27;0&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;00000123&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> LPAD(<span class="string">&#x27;123&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;12&#x27;（长度超过则截断）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- RPAD(s, len, pad)：右填充</span></span><br><span class="line"><span class="keyword">SELECT</span> RPAD(<span class="string">&#x27;123&#x27;</span>, <span class="number">8</span>, <span class="string">&#x27;0&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;12300000&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- LPAD 实战：生成固定长度的编号</span></span><br><span class="line"><span class="keyword">SELECT</span> LPAD(id, <span class="number">6</span>, <span class="string">&#x27;0&#x27;</span>) <span class="keyword">AS</span> order_no <span class="keyword">FROM</span> orders;  <span class="comment">-- &#x27;000001&#x27;, &#x27;000002&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-7-字符串反转与重复"><a href="#2-7-字符串反转与重复" class="headerlink" title="2.7 字符串反转与重复"></a>2.7 字符串反转与重复</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- REVERSE(s)：反转字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> REVERSE(<span class="string">&#x27;hello&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;olleh&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> REVERSE(phone) <span class="keyword">AS</span> reversed_phone <span class="keyword">FROM</span> users;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- REPEAT(s, n)：重复字符串 n 次</span></span><br><span class="line"><span class="keyword">SELECT</span> REPEAT(<span class="string">&#x27;*&#x27;</span>, <span class="number">5</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;*****&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> REPEAT(<span class="string">&#x27;-&#x27;</span>, <span class="number">20</span>) <span class="keyword">AS</span> separator;  <span class="comment">-- &#x27;--------------------&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-8-字符串比较"><a href="#2-8-字符串比较" class="headerlink" title="2.8 字符串比较"></a>2.8 字符串比较</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- STRCMP(s1, s2)：比较字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> STRCMP(<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 0（相等）</span></span><br><span class="line"><span class="keyword">SELECT</span> STRCMP(<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;abd&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- -1（s1 &lt; s2）</span></span><br><span class="line"><span class="keyword">SELECT</span> STRCMP(<span class="string">&#x27;abd&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1（s1 &gt; s2）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- FIELD(s, s1, s2, ...)：返回 s 在列表中的位置</span></span><br><span class="line"><span class="keyword">SELECT</span> FIELD(<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 2</span></span><br><span class="line"><span class="keyword">SELECT</span> FIELD(<span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 0（未找到）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ELT(n, s1, s2, ...)：返回第 n 个位置的字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> ELT(<span class="number">2</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;B&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-9-其他常用函数"><a href="#2-9-其他常用函数" class="headerlink" title="2.9 其他常用函数"></a>2.9 其他常用函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- SPACE(n)：返回 n 个空格</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;[&#x27;</span>, SPACE(<span class="number">5</span>), <span class="string">&#x27;]&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;[     ]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ASCII(s)：返回最左边字符的 ASCII 码</span></span><br><span class="line"><span class="keyword">SELECT</span> ASCII(<span class="string">&#x27;A&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 65</span></span><br><span class="line"><span class="keyword">SELECT</span> ASCII(<span class="string">&#x27;你好&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 228（多字节字符返回第一个字节）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- CHAR(n, n2, ...)：返回 ASCII 码对应的字符</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="type">CHAR</span>(<span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;ABC&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- BIN(n)：十进制转二进制</span></span><br><span class="line"><span class="keyword">SELECT</span> BIN(<span class="number">10</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;1010&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- HEX(n 或 s)：十进制转十六进制，或字符串转十六进制</span></span><br><span class="line"><span class="keyword">SELECT</span> HEX(<span class="number">255</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;FF&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> HEX(<span class="string">&#x27;abc&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;616263&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- UNHEX(s)：十六进制转字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> UNHEX(<span class="string">&#x27;616263&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;abc&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="三、数值函数"><a href="#三、数值函数" class="headerlink" title="三、数值函数"></a>三、数值函数</h2><h3 id="3-1-绝对值与符号"><a href="#3-1-绝对值与符号" class="headerlink" title="3.1 绝对值与符号"></a>3.1 绝对值与符号</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ABS(n)：绝对值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-10</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 10</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">10</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;   <span class="comment">-- 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SIGN(n)：符号函数</span></span><br><span class="line"><span class="keyword">SELECT</span> SIGN(<span class="number">-10</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- -1</span></span><br><span class="line"><span class="keyword">SELECT</span> SIGN(<span class="number">0</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;    <span class="comment">-- 0</span></span><br><span class="line"><span class="keyword">SELECT</span> SIGN(<span class="number">10</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;   <span class="comment">-- 1</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-四舍五入与截断"><a href="#3-2-四舍五入与截断" class="headerlink" title="3.2 四舍五入与截断"></a>3.2 四舍五入与截断</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ROUND(n, d)：四舍五入到 d 位小数</span></span><br><span class="line"><span class="keyword">SELECT</span> ROUND(<span class="number">3.14159</span>, <span class="number">2</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3.14</span></span><br><span class="line"><span class="keyword">SELECT</span> ROUND(<span class="number">3.145</span>, <span class="number">2</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;    <span class="comment">-- 3.15（四舍五入）</span></span><br><span class="line"><span class="keyword">SELECT</span> ROUND(<span class="number">1234.567</span>, <span class="number">-1</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1230（负数表示小数点左边）</span></span><br><span class="line"><span class="keyword">SELECT</span> ROUND(<span class="number">1234.567</span>, <span class="number">-2</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TRUNCATE(n, d)：截断到 d 位小数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">TRUNCATE</span>(<span class="number">3.14159</span>, <span class="number">2</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3.14</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">TRUNCATE</span>(<span class="number">3.149</span>, <span class="number">2</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;    <span class="comment">-- 3.14（直接截断，不四舍五入）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">TRUNCATE</span>(<span class="number">1234.567</span>, <span class="number">-1</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1230</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- CEIL(n) 或 CEILING(n)：向上取整</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEIL</span>(<span class="number">3.14</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 4</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEIL</span>(<span class="number">3.99</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 4</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEIL</span>(<span class="number">-3.14</span>) <span class="keyword">AS</span> <span class="keyword">result</span>; <span class="comment">-- -3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- FLOOR(n)：向下取整</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">3.14</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">3.99</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">-3.14</span>) <span class="keyword">AS</span> <span class="keyword">result</span>; <span class="comment">-- -4</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-取模运算"><a href="#3-3-取模运算" class="headerlink" title="3.3 取模运算"></a>3.3 取模运算</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- MOD(n, m) 或 n % m：取模</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MOD</span>(<span class="number">10</span>, <span class="number">3</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">10</span> <span class="operator">%</span> <span class="number">3</span> <span class="keyword">AS</span> <span class="keyword">result</span>;      <span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MOD</span>(<span class="number">-10</span>, <span class="number">3</span>) <span class="keyword">AS</span> <span class="keyword">result</span>; <span class="comment">-- -1</span></span><br></pre></td></tr></table></figure>

<h3 id="3-4-随机数"><a href="#3-4-随机数" class="headerlink" title="3.4 随机数"></a>3.4 随机数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- RAND()：返回 0-1 之间的随机数</span></span><br><span class="line"><span class="keyword">SELECT</span> RAND() <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 0.7234567890123456</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- RAND(n)：使用种子生成可重复的随机数</span></span><br><span class="line"><span class="keyword">SELECT</span> RAND(<span class="number">5</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 每次使用相同种子得到相同结果</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 生成指定范围的随机整数</span></span><br><span class="line"><span class="comment">-- 公式：FLOOR(RAND() * (max - min + 1)) + min</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(RAND() <span class="operator">*</span> <span class="number">10</span>) <span class="keyword">AS</span> random_0_9;       <span class="comment">-- 0-9</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(RAND() <span class="operator">*</span> <span class="number">100</span>) <span class="operator">+</span> <span class="number">1</span> <span class="keyword">AS</span> random_1_100; <span class="comment">-- 1-100</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(RAND() <span class="operator">*</span> <span class="number">6</span>) <span class="operator">+</span> <span class="number">1</span> <span class="keyword">AS</span> dice;           <span class="comment">-- 模拟骰子 1-6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 随机排序（慎用，性能差）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">ORDER</span> <span class="keyword">BY</span> RAND() LIMIT <span class="number">5</span>;  <span class="comment">-- 随机抽取 5 条</span></span><br></pre></td></tr></table></figure>

<h3 id="3-5-幂运算与开方"><a href="#3-5-幂运算与开方" class="headerlink" title="3.5 幂运算与开方"></a>3.5 幂运算与开方</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- POW(x, y) 或 POWER(x, y)：x 的 y 次幂</span></span><br><span class="line"><span class="keyword">SELECT</span> POW(<span class="number">2</span>, <span class="number">3</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;    <span class="comment">-- 8</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">POWER</span>(<span class="number">2</span>, <span class="number">3</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SQRT(n)：平方根</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SQRT</span>(<span class="number">16</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 4</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SQRT</span>(<span class="number">2</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;   <span class="comment">-- 1.4142135623730951</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- EXP(n)：e 的 n 次幂</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">EXP</span>(<span class="number">1</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 2.718281828459045</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- LN(n)：自然对数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LN</span>(<span class="number">2.718281828459045</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- LOG10(n)：以 10 为底的对数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOG10</span>(<span class="number">100</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- LOG2(n)：以 2 为底的对数</span></span><br><span class="line"><span class="keyword">SELECT</span> LOG2(<span class="number">8</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3</span></span><br></pre></td></tr></table></figure>

<h3 id="3-6-角度与弧度"><a href="#3-6-角度与弧度" class="headerlink" title="3.6 角度与弧度"></a>3.6 角度与弧度</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- RADIANS(n)：角度转弧度</span></span><br><span class="line"><span class="keyword">SELECT</span> RADIANS(<span class="number">180</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3.141592653589793</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DEGREES(n)：弧度转角度</span></span><br><span class="line"><span class="keyword">SELECT</span> DEGREES(<span class="number">3.141592653589793</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 180</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- PI()：返回圆周率</span></span><br><span class="line"><span class="keyword">SELECT</span> PI() <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3.141592653589793</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SIN(n)、COS(n)、TAN(n)：三角函数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SIN</span>(RADIANS(<span class="number">30</span>)) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 0.5</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COS</span>(RADIANS(<span class="number">60</span>)) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 0.5</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TAN</span>(RADIANS(<span class="number">45</span>)) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1</span></span><br></pre></td></tr></table></figure>

<h3 id="3-7-其他数值函数"><a href="#3-7-其他数值函数" class="headerlink" title="3.7 其他数值函数"></a>3.7 其他数值函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- CRC32(s)：计算循环冗余校验码</span></span><br><span class="line"><span class="keyword">SELECT</span> CRC32(<span class="string">&#x27;hello&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 907060870</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：生成简短的哈希值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(HEX(CRC32(<span class="string">&#x27;hello&#x27;</span>))) <span class="keyword">AS</span> short_hash;  <span class="comment">-- &#x27;0567e1b5&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="四、日期时间函数"><a href="#四、日期时间函数" class="headerlink" title="四、日期时间函数"></a>四、日期时间函数</h2><h3 id="4-1-获取当前日期时间"><a href="#4-1-获取当前日期时间" class="headerlink" title="4.1 获取当前日期时间"></a>4.1 获取当前日期时间</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- NOW()：当前日期和时间</span></span><br><span class="line"><span class="keyword">SELECT</span> NOW() <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-20 15:30:45&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- CURRENT_TIMESTAMP：同 NOW()</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_TIMESTAMP</span>() <span class="keyword">AS</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- SYSDATE()：函数执行时的时间（与 NOW 略有不同）</span></span><br><span class="line"><span class="keyword">SELECT</span> SYSDATE() <span class="keyword">AS</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- CURDATE() 或 CURRENT_DATE：当前日期</span></span><br><span class="line"><span class="keyword">SELECT</span> CURDATE() <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-20&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- CURTIME() 或 CURRENT_TIME：当前时间</span></span><br><span class="line"><span class="keyword">SELECT</span> CURTIME() <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;15:30:45&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2-日期时间提取"><a href="#4-2-日期时间提取" class="headerlink" title="4.2 日期时间提取"></a>4.2 日期时间提取</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- DATE(d)：提取日期部分</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="type">DATE</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-20&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TIME(d)：提取时间部分</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="type">TIME</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;15:30:45&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- YEAR(d)：年份</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 2024</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(hire_date) <span class="keyword">AS</span> hire_year <span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- MONTH(d)：月份</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 2</span></span><br><span class="line"><span class="keyword">SELECT</span> MONTHNAME(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;February&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DAY(d) 或 DAYOFMONTH(d)：日期（月中第几天）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DAY</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DAYOFWEEK(d)：星期几（1=Sunday, 7=Saturday）</span></span><br><span class="line"><span class="keyword">SELECT</span> DAYOFWEEK(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 3（周二）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DAYOFYEAR(d)：一年中的第几天</span></span><br><span class="line"><span class="keyword">SELECT</span> DAYOFYEAR(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 51</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- WEEK(d)：一年中的第几周</span></span><br><span class="line"><span class="keyword">SELECT</span> WEEK(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- WEEKDAY(d)：工作日（0=Monday, 6=Sunday）</span></span><br><span class="line"><span class="keyword">SELECT</span> WEEKDAY(NOW()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1（周二）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- HOUR(t)、MINUTE(t)、SECOND(t)：时分秒</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">HOUR</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">hour</span>, <span class="keyword">MINUTE</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">minute</span>, <span class="keyword">SECOND</span>(NOW()) <span class="keyword">AS</span> <span class="keyword">second</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-日期时间格式化"><a href="#4-3-日期时间格式化" class="headerlink" title="4.3 日期时间格式化"></a>4.3 日期时间格式化</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- DATE_FORMAT(d, format)：格式化日期</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%Y-%m-%d&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-20&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%Y 年%m 月%d 日&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024 年 02 月 20 日&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%H:%i:%s&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;15:30:45&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%W, %M %d, %Y&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Tuesday, February 20, 2024&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TIME_FORMAT(t, format)：格式化时间</span></span><br><span class="line"><span class="keyword">SELECT</span> TIME_FORMAT(NOW(), <span class="string">&#x27;%H 时%i 分%s 秒&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;15 时 30 分 45 秒&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 常用格式符：</span></span><br><span class="line"><span class="comment">-- %Y：四位年份  | %y：两位年份</span></span><br><span class="line"><span class="comment">-- %m：月份 (01-12) | %c：月份 (1-12)</span></span><br><span class="line"><span class="comment">-- %d：日期 (01-31) | %e：日期 (1-31)</span></span><br><span class="line"><span class="comment">-- %H：小时 (00-23) | %h/%I：小时 (01-12)</span></span><br><span class="line"><span class="comment">-- %i：分钟 (00-59) | %s/%S：秒 (00-59)</span></span><br><span class="line"><span class="comment">-- %p：AM/PM | %W：星期名 | %a：星期缩写</span></span><br><span class="line"><span class="comment">-- %M：月份名 | %b：月份缩写</span></span><br></pre></td></tr></table></figure>

<h3 id="4-4-字符串转日期"><a href="#4-4-字符串转日期" class="headerlink" title="4.4 字符串转日期"></a>4.4 字符串转日期</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- STR_TO_DATE(s, format)：字符串转日期</span></span><br><span class="line"><span class="keyword">SELECT</span> STR_TO_DATE(<span class="string">&#x27;2024-02-20&#x27;</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-20&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> STR_TO_DATE(<span class="string">&#x27;02/20/2024&#x27;</span>, <span class="string">&#x27;%m/%d/%Y&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-20&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> STR_TO_DATE(<span class="string">&#x27;20240220&#x27;</span>, <span class="string">&#x27;%Y%m%d&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-20&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-5-日期时间运算"><a href="#4-5-日期时间运算" class="headerlink" title="4.5 日期时间运算"></a>4.5 日期时间运算</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- DATE_ADD(d, INTERVAL expr unit)：日期增加</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(), <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 明天</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(), <span class="type">INTERVAL</span> <span class="number">-1</span> <span class="keyword">DAY</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 昨天</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(), <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">MONTH</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 下个月</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(), <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">YEAR</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 明年</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(), <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">HOUR</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1 小时后</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(), <span class="type">INTERVAL</span> <span class="number">30</span> <span class="keyword">MINUTE</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 30 分钟后</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DATE_SUB(d, INTERVAL expr unit)：日期减少</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_SUB(NOW(), <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 昨天</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_SUB(CURDATE(), <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">MONTH</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 上个月</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用 + 和 - 运算符（简化写法）</span></span><br><span class="line"><span class="keyword">SELECT</span> NOW() <span class="operator">+</span> <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span> <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 明天</span></span><br><span class="line"><span class="keyword">SELECT</span> NOW() <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">HOUR</span> <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1 小时前</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ADDDATE(d, n)：增加 n 天</span></span><br><span class="line"><span class="keyword">SELECT</span> ADDDATE(CURDATE(), <span class="number">7</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 7 天后</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SUBDATE(d, n)：减少 n 天</span></span><br><span class="line"><span class="keyword">SELECT</span> SUBDATE(CURDATE(), <span class="number">7</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 7 天前</span></span><br></pre></td></tr></table></figure>

<h3 id="4-6-日期差值"><a href="#4-6-日期差值" class="headerlink" title="4.6 日期差值"></a>4.6 日期差值</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- DATEDIFF(d1, d2)：d1 - d2 的天数差</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(<span class="string">&#x27;2024-02-20&#x27;</span>, <span class="string">&#x27;2024-01-01&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 50</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(CURDATE(), hire_date) <span class="keyword">AS</span> work_days <span class="keyword">FROM</span> employees;  <span class="comment">-- 入职天数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TIMEDIFF(t1, t2)：时间差</span></span><br><span class="line"><span class="keyword">SELECT</span> TIMEDIFF(<span class="string">&#x27;15:30:00&#x27;</span>, <span class="string">&#x27;10:00:00&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;05:30:00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- TIMESTAMPDIFF(unit, d1, d2)：指定单位的差值</span></span><br><span class="line"><span class="keyword">SELECT</span> TIMESTAMPDIFF(<span class="keyword">DAY</span>, <span class="string">&#x27;2024-01-01&#x27;</span>, <span class="string">&#x27;2024-02-20&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 50</span></span><br><span class="line"><span class="keyword">SELECT</span> TIMESTAMPDIFF(<span class="keyword">MONTH</span>, <span class="string">&#x27;2024-01-01&#x27;</span>, <span class="string">&#x27;2024-02-20&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span> TIMESTAMPDIFF(<span class="keyword">YEAR</span>, <span class="string">&#x27;2020-01-01&#x27;</span>, <span class="string">&#x27;2024-02-20&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 4</span></span><br><span class="line"><span class="keyword">SELECT</span> TIMESTAMPDIFF(<span class="keyword">SECOND</span>, <span class="string">&#x27;10:00:00&#x27;</span>, <span class="string">&#x27;15:30:00&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 19800</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 计算年龄</span></span><br><span class="line"><span class="keyword">SELECT</span> name, TIMESTAMPDIFF(<span class="keyword">YEAR</span>, birth_date, CURDATE()) <span class="keyword">AS</span> age <span class="keyword">FROM</span> users;</span><br></pre></td></tr></table></figure>

<h3 id="4-7-日期边界函数"><a href="#4-7-日期边界函数" class="headerlink" title="4.7 日期边界函数"></a>4.7 日期边界函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- LAST_DAY(d)：返回当月最后一天</span></span><br><span class="line"><span class="keyword">SELECT</span> LAST_DAY(CURDATE()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-29&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DAYNAME(d)：星期几的英文名</span></span><br><span class="line"><span class="keyword">SELECT</span> DAYNAME(CURDATE()) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;Tuesday&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MAKEDATE(year, day)：根据年份和一年中的第几天创建日期</span></span><br><span class="line"><span class="keyword">SELECT</span> MAKEDATE(<span class="number">2024</span>, <span class="number">50</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;2024-02-19&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MAKETIME(hour, minute, second)：创建时间</span></span><br><span class="line"><span class="keyword">SELECT</span> MAKETIME(<span class="number">15</span>, <span class="number">30</span>, <span class="number">45</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;15:30:45&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-8-日期函数实战案例"><a href="#4-8-日期函数实战案例" class="headerlink" title="4.8 日期函数实战案例"></a>4.8 日期函数实战案例</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 案例 1：查询本月入职的员工</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">MONTH</span>(hire_date) <span class="operator">=</span> <span class="keyword">MONTH</span>(CURDATE())</span><br><span class="line"><span class="keyword">AND</span> <span class="keyword">YEAR</span>(hire_date) <span class="operator">=</span> <span class="keyword">YEAR</span>(CURDATE());</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 案例 2：查询本周的数据</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> orders</span><br><span class="line"><span class="keyword">WHERE</span> YEARWEEK(order_date) <span class="operator">=</span> YEARWEEK(CURDATE());</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 案例 3：查询超过 30 天未登录的用户</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> DATEDIFF(CURDATE(), last_login) <span class="operator">&gt;</span> <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 案例 4：计算员工的工龄（年）</span></span><br><span class="line"><span class="keyword">SELECT</span> name, hire_date,</span><br><span class="line">       TIMESTAMPDIFF(<span class="keyword">YEAR</span>, hire_date, CURDATE()) <span class="keyword">AS</span> work_years</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> work_years <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 案例 5：格式化显示订单时间</span></span><br><span class="line"><span class="keyword">SELECT</span> order_no,</span><br><span class="line">       DATE_FORMAT(create_time, <span class="string">&#x27;%Y-%m-%d %H:%i&#x27;</span>) <span class="keyword">AS</span> order_time,</span><br><span class="line">       DATE_FORMAT(create_time, <span class="string">&#x27;%W %M %d&#x27;</span>) <span class="keyword">AS</span> display_time</span><br><span class="line"><span class="keyword">FROM</span> orders;</span><br></pre></td></tr></table></figure>

<h2 id="五、流程函数"><a href="#五、流程函数" class="headerlink" title="五、流程函数"></a>五、流程函数</h2><h3 id="5-1-IF-函数"><a href="#5-1-IF-函数" class="headerlink" title="5.1 IF 函数"></a>5.1 IF 函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- IF(expr, v1, v2)：如果 expr 为真返回 v1，否则返回 v2</span></span><br><span class="line"><span class="keyword">SELECT</span> IF(<span class="number">1</span> <span class="operator">&gt;</span> <span class="number">2</span>, <span class="string">&#x27;对&#x27;</span>, <span class="string">&#x27;错&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;错&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> IF(<span class="number">1</span> <span class="operator">&gt;</span> <span class="number">2</span>, <span class="string">&#x27;对&#x27;</span>, <span class="string">&#x27;错&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;错&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：判断员工工资水平</span></span><br><span class="line"><span class="keyword">SELECT</span> name, salary,</span><br><span class="line">       IF(salary <span class="operator">&gt;</span> <span class="number">10000</span>, <span class="string">&#x27;高薪&#x27;</span>, <span class="string">&#x27;普通&#x27;</span>) <span class="keyword">AS</span> salary_level</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：判断是否成年</span></span><br><span class="line"><span class="keyword">SELECT</span> name, age, IF(age <span class="operator">&gt;=</span> <span class="number">18</span>, <span class="string">&#x27;成年&#x27;</span>, <span class="string">&#x27;未成年&#x27;</span>) <span class="keyword">AS</span> status <span class="keyword">FROM</span> users;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-IFNULL-函数"><a href="#5-2-IFNULL-函数" class="headerlink" title="5.2 IFNULL 函数"></a>5.2 IFNULL 函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- IFNULL(v1, v2)：如果 v1 不为 NULL 返回 v1，否则返回 v2</span></span><br><span class="line"><span class="keyword">SELECT</span> IFNULL(<span class="keyword">NULL</span>, <span class="string">&#x27;默认值&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;默认值&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> IFNULL(<span class="string">&#x27;有值&#x27;</span>, <span class="string">&#x27;默认值&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;有值&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：处理 NULL 值</span></span><br><span class="line"><span class="keyword">SELECT</span> name, IFNULL(salary, <span class="number">0</span>) <span class="keyword">AS</span> salary <span class="keyword">FROM</span> employees;</span><br><span class="line"><span class="keyword">SELECT</span> name, IFNULL(phone, <span class="string">&#x27;未填写&#x27;</span>) <span class="keyword">AS</span> phone <span class="keyword">FROM</span> users;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：计算平均工资（避免除以 NULL）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(salary) <span class="operator">/</span> IFNULL(<span class="built_in">COUNT</span>(<span class="built_in">NULLIF</span>(salary, <span class="keyword">NULL</span>)), <span class="number">1</span>) <span class="keyword">AS</span> avg_salary</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-NULLIF-函数"><a href="#5-3-NULLIF-函数" class="headerlink" title="5.3 NULLIF 函数"></a>5.3 NULLIF 函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- NULLIF(v1, v2)：如果 v1 = v2 返回 NULL，否则返回 v1</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">NULLIF</span>(<span class="number">10</span>, <span class="number">10</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">NULLIF</span>(<span class="number">10</span>, <span class="number">20</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：避免除以零</span></span><br><span class="line"><span class="keyword">SELECT</span> salary <span class="operator">/</span> <span class="built_in">NULLIF</span>(commission, <span class="number">0</span>) <span class="keyword">AS</span> ratio <span class="keyword">FROM</span> employees;</span><br><span class="line"><span class="comment">-- 如果 commission 为 0，返回 NULL 而不是报错</span></span><br></pre></td></tr></table></figure>

<h3 id="5-4-CASE-表达式"><a href="#5-4-CASE-表达式" class="headerlink" title="5.4 CASE 表达式"></a>5.4 CASE 表达式</h3><h4 id="简单-CASE"><a href="#简单-CASE" class="headerlink" title="简单 CASE"></a>简单 CASE</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- CASE value WHEN v1 THEN r1 WHEN v2 THEN r2 ... ELSE rn END</span></span><br><span class="line"><span class="keyword">SELECT</span> name, dept_id,</span><br><span class="line">       <span class="keyword">CASE</span> dept_id</span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">&#x27;技术部&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">&#x27;市场部&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="string">&#x27;财务部&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">4</span> <span class="keyword">THEN</span> <span class="string">&#x27;人事部&#x27;</span></span><br><span class="line">           <span class="keyword">ELSE</span> <span class="string">&#x27;其他&#x27;</span></span><br><span class="line">       <span class="keyword">END</span> <span class="keyword">AS</span> dept_name</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：将数字转为中文星期</span></span><br><span class="line"><span class="keyword">SELECT</span> DAYNAME(CURDATE()) <span class="keyword">AS</span> weekday,</span><br><span class="line">       <span class="keyword">CASE</span> DAYOFWEEK(CURDATE())</span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">&#x27;星期日&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">&#x27;星期一&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="string">&#x27;星期二&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">4</span> <span class="keyword">THEN</span> <span class="string">&#x27;星期三&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">5</span> <span class="keyword">THEN</span> <span class="string">&#x27;星期四&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">6</span> <span class="keyword">THEN</span> <span class="string">&#x27;星期五&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">7</span> <span class="keyword">THEN</span> <span class="string">&#x27;星期六&#x27;</span></span><br><span class="line">       <span class="keyword">END</span> <span class="keyword">AS</span> weekday_cn;</span><br></pre></td></tr></table></figure>

<h4 id="搜索-CASE"><a href="#搜索-CASE" class="headerlink" title="搜索 CASE"></a>搜索 CASE</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- CASE WHEN condition1 THEN r1 WHEN condition2 THEN r2 ... ELSE rn END</span></span><br><span class="line"><span class="keyword">SELECT</span> name, salary,</span><br><span class="line">       <span class="keyword">CASE</span></span><br><span class="line">           <span class="keyword">WHEN</span> salary <span class="operator">&gt;=</span> <span class="number">15000</span> <span class="keyword">THEN</span> <span class="string">&#x27;高收入&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> salary <span class="operator">&gt;=</span> <span class="number">10000</span> <span class="keyword">THEN</span> <span class="string">&#x27;中高收入&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> salary <span class="operator">&gt;=</span> <span class="number">7000</span> <span class="keyword">THEN</span> <span class="string">&#x27;中等收入&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> salary <span class="operator">&gt;=</span> <span class="number">5000</span> <span class="keyword">THEN</span> <span class="string">&#x27;中低收入&#x27;</span></span><br><span class="line">           <span class="keyword">ELSE</span> <span class="string">&#x27;低收入&#x27;</span></span><br><span class="line">       <span class="keyword">END</span> <span class="keyword">AS</span> income_level</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：根据成绩评定等级</span></span><br><span class="line"><span class="keyword">SELECT</span> student_name, score,</span><br><span class="line">       <span class="keyword">CASE</span></span><br><span class="line">           <span class="keyword">WHEN</span> score <span class="operator">&gt;=</span> <span class="number">90</span> <span class="keyword">THEN</span> <span class="string">&#x27;A&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> score <span class="operator">&gt;=</span> <span class="number">80</span> <span class="keyword">THEN</span> <span class="string">&#x27;B&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> score <span class="operator">&gt;=</span> <span class="number">70</span> <span class="keyword">THEN</span> <span class="string">&#x27;C&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> score <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">THEN</span> <span class="string">&#x27;D&#x27;</span></span><br><span class="line">           <span class="keyword">ELSE</span> <span class="string">&#x27;F&#x27;</span></span><br><span class="line">       <span class="keyword">END</span> <span class="keyword">AS</span> grade</span><br><span class="line"><span class="keyword">FROM</span> scores;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 实战：计算奖金</span></span><br><span class="line"><span class="keyword">SELECT</span> name, salary,</span><br><span class="line">       <span class="keyword">CASE</span></span><br><span class="line">           <span class="keyword">WHEN</span> salary <span class="operator">&gt;=</span> <span class="number">15000</span> <span class="keyword">THEN</span> salary <span class="operator">*</span> <span class="number">0.2</span></span><br><span class="line">           <span class="keyword">WHEN</span> salary <span class="operator">&gt;=</span> <span class="number">10000</span> <span class="keyword">THEN</span> salary <span class="operator">*</span> <span class="number">0.15</span></span><br><span class="line">           <span class="keyword">WHEN</span> salary <span class="operator">&gt;=</span> <span class="number">7000</span> <span class="keyword">THEN</span> salary <span class="operator">*</span> <span class="number">0.1</span></span><br><span class="line">           <span class="keyword">ELSE</span> salary <span class="operator">*</span> <span class="number">0.05</span></span><br><span class="line">       <span class="keyword">END</span> <span class="keyword">AS</span> bonus</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure>

<h3 id="5-5-CASE-在-ORDER-BY-中的应用"><a href="#5-5-CASE-在-ORDER-BY-中的应用" class="headerlink" title="5.5 CASE 在 ORDER BY 中的应用"></a>5.5 CASE 在 ORDER BY 中的应用</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 自定义排序顺序</span></span><br><span class="line"><span class="keyword">SELECT</span> name, dept_id <span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">    <span class="keyword">CASE</span> dept_id</span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="number">2</span></span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="number">3</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="number">4</span></span><br><span class="line">    <span class="keyword">END</span>;</span><br><span class="line"><span class="comment">-- 排序：技术部 → 财务部 → 市场部 → 其他</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 多条件排序</span></span><br><span class="line"><span class="keyword">SELECT</span> name, status, salary <span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">    <span class="keyword">CASE</span> status <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="number">0</span> <span class="keyword">ELSE</span> <span class="number">1</span> <span class="keyword">END</span>,  <span class="comment">-- 在职优先</span></span><br><span class="line">    salary <span class="keyword">DESC</span>;  <span class="comment">-- 工资降序</span></span><br></pre></td></tr></table></figure>

<h2 id="六、其他实用函数"><a href="#六、其他实用函数" class="headerlink" title="六、其他实用函数"></a>六、其他实用函数</h2><h3 id="6-1-信息函数"><a href="#6-1-信息函数" class="headerlink" title="6.1 信息函数"></a>6.1 信息函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- VERSION()：MySQL 版本</span></span><br><span class="line"><span class="keyword">SELECT</span> VERSION();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- DATABASE()：当前数据库名</span></span><br><span class="line"><span class="keyword">SELECT</span> DATABASE();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- USER()：当前用户</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">USER</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- CONNECTION_ID()：当前连接 ID</span></span><br><span class="line"><span class="keyword">SELECT</span> CONNECTION_ID();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- CHARSET(s)：返回字符串的字符集</span></span><br><span class="line"><span class="keyword">SELECT</span> CHARSET(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- COLLATION(s)：返回字符串的排序规则</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COLLATION</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="6-2-加锁函数"><a href="#6-2-加锁函数" class="headerlink" title="6.2 加锁函数"></a>6.2 加锁函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- GET_LOCK(name, timeout)：获取命名锁</span></span><br><span class="line"><span class="keyword">SELECT</span> GET_LOCK(<span class="string">&#x27;my_lock&#x27;</span>, <span class="number">10</span>);  <span class="comment">-- 等待最多 10 秒</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- RELEASE_LOCK(name)：释放命名锁</span></span><br><span class="line"><span class="keyword">SELECT</span> RELEASE_LOCK(<span class="string">&#x27;my_lock&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- IS_USED_LOCK(name)：检查锁是否被使用</span></span><br><span class="line"><span class="keyword">SELECT</span> IS_USED_LOCK(<span class="string">&#x27;my_lock&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- IS_FREE_LOCK(name)：检查锁是否空闲</span></span><br><span class="line"><span class="keyword">SELECT</span> IS_FREE_LOCK(<span class="string">&#x27;my_lock&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="6-3-加密函数"><a href="#6-3-加密函数" class="headerlink" title="6.3 加密函数"></a>6.3 加密函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- MD5(s)：MD5 哈希</span></span><br><span class="line"><span class="keyword">SELECT</span> MD5(<span class="string">&#x27;password&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;5f4dcc3b5aa765d61d8327deb882cf99&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SHA1(s)：SHA-1 哈希</span></span><br><span class="line"><span class="keyword">SELECT</span> SHA1(<span class="string">&#x27;password&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- SHA2(s, n)：SHA-2 哈希（n=224,256,384,512）</span></span><br><span class="line"><span class="keyword">SELECT</span> SHA2(<span class="string">&#x27;password&#x27;</span>, <span class="number">256</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- AES_ENCRYPT(s, key) / AES_DECRYPT(s, key)：AES 加密解密</span></span><br><span class="line"><span class="keyword">SELECT</span> AES_ENCRYPT(<span class="string">&#x27;secret&#x27;</span>, <span class="string">&#x27;key&#x27;</span>) <span class="keyword">AS</span> encrypted;</span><br><span class="line"><span class="keyword">SELECT</span> AES_DECRYPT(AES_ENCRYPT(<span class="string">&#x27;secret&#x27;</span>, <span class="string">&#x27;key&#x27;</span>), <span class="string">&#x27;key&#x27;</span>) <span class="keyword">AS</span> decrypted;</span><br></pre></td></tr></table></figure>

<h3 id="6-4-JSON-函数（MySQL-5-7-）"><a href="#6-4-JSON-函数（MySQL-5-7-）" class="headerlink" title="6.4 JSON 函数（MySQL 5.7+）"></a>6.4 JSON 函数（MySQL 5.7+）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- JSON_EXTRACT(json_doc, path)：提取 JSON 值</span></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="string">&#x27;&#123;&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 25&#125;&#x27;</span>, <span class="string">&#x27;$.name&#x27;</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;&quot;张三&quot;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- -&gt; 操作符（简化提取）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;&#123;&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 25&#125;&#x27;</span><span class="operator">-</span><span class="operator">&gt;</span><span class="string">&#x27;$.name&#x27;</span> <span class="keyword">AS</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- JSON_INSERT、JSON_REPLACE、JSON_SET：修改 JSON</span></span><br><span class="line"><span class="keyword">SELECT</span> JSON_SET(<span class="string">&#x27;&#123;&quot;name&quot;: &quot;张三&quot;&#125;&#x27;</span>, <span class="string">&#x27;$.age&#x27;</span>, <span class="number">25</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- JSON_ARRAY、JSON_OBJECT：创建 JSON</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">JSON_ARRAY</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;[1, 2, 3]&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">JSON_OBJECT</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="number">25</span>) <span class="keyword">AS</span> <span class="keyword">result</span>;  <span class="comment">-- &#x27;&#123;&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 25&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="七、函数性能优化建议"><a href="#七、函数性能优化建议" class="headerlink" title="七、函数性能优化建议"></a>七、函数性能优化建议</h2><h3 id="7-1-避免在索引列上使用函数"><a href="#7-1-避免在索引列上使用函数" class="headerlink" title="7.1 避免在索引列上使用函数"></a>7.1 避免在索引列上使用函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 性能差：无法使用索引</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(hire_date) <span class="operator">=</span> <span class="number">2024</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 性能好：可以使用索引</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> hire_date <span class="operator">&gt;=</span> <span class="string">&#x27;2024-01-01&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> hire_date <span class="operator">&lt;</span> <span class="string">&#x27;2025-01-01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 性能差：无法使用索引</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> <span class="built_in">UPPER</span>(name) <span class="operator">=</span> <span class="string">&#x27;JOHN&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 性能好：可以使用索引</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> name <span class="operator">=</span> <span class="string">&#x27;John&#x27;</span>;</span><br><span class="line"><span class="comment">-- 或者使用大小写不敏感的排序规则</span></span><br></pre></td></tr></table></figure>

<h3 id="7-2-避免使用-ORDER-BY-RAND"><a href="#7-2-避免使用-ORDER-BY-RAND" class="headerlink" title="7.2 避免使用 ORDER BY RAND()"></a>7.2 避免使用 ORDER BY RAND()</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 性能差：全表排序</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">ORDER</span> <span class="keyword">BY</span> RAND() LIMIT <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 性能好：使用子查询</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> id <span class="operator">&gt;=</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(RAND() <span class="operator">*</span> (<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(id) <span class="keyword">FROM</span> employees))</span><br><span class="line">)</span><br><span class="line">LIMIT <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h3 id="7-3-避免使用-SELECT"><a href="#7-3-避免使用-SELECT" class="headerlink" title="7.3 避免使用 SELECT *"></a>7.3 避免使用 SELECT *</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 只选择需要的列</span></span><br><span class="line"><span class="keyword">SELECT</span> name, salary, DATE_FORMAT(hire_date, <span class="string">&#x27;%Y-%m&#x27;</span>) <span class="keyword">AS</span> hire_month</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure>

<h2 id="八、小结"><a href="#八、小结" class="headerlink" title="八、小结"></a>八、小结</h2><h3 id="函数速查表"><a href="#函数速查表" class="headerlink" title="函数速查表"></a>函数速查表</h3><table>
<thead>
<tr>
<th>类型</th>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>字符串</strong></td>
<td>CONCAT, LENGTH, SUBSTRING, REPLACE, UPPER, LOWER, TRIM</td>
<td>字符串处理</td>
</tr>
<tr>
<td><strong>数值</strong></td>
<td>ABS, ROUND, CEIL, FLOOR, MOD, RAND</td>
<td>数值计算</td>
</tr>
<tr>
<td><strong>日期</strong></td>
<td>NOW, DATE_FORMAT, DATEDIFF, DATE_ADD</td>
<td>日期处理</td>
</tr>
<tr>
<td><strong>流程</strong></td>
<td>IF, IFNULL, NULLIF, CASE</td>
<td>条件判断</td>
</tr>
</tbody></table>
<h3 id="实用技巧"><a href="#实用技巧" class="headerlink" title="实用技巧"></a>实用技巧</h3><ol>
<li><strong>字符串处理</strong>：使用 CONCAT_WS 连接，使用 TRIM 去除空格</li>
<li><strong>数值处理</strong>：使用 ROUND 四舍五入，使用 TRUNCATE 截断</li>
<li><strong>日期处理</strong>：使用 DATE_FORMAT 格式化，使用 DATEDIFF 计算差值</li>
<li><strong>条件判断</strong>：简单条件用 IF，复杂条件用 CASE</li>
<li><strong>NULL 处理</strong>：使用 IFNULL 处理 NULL 值，使用 NULLIF 避免除以零</li>
</ol>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li>函数可能影响索引使用，注意性能</li>
<li>日期函数中月份从 1 开始，星期函数注意返回值</li>
<li>字符串位置从 1 开始，不是从 0 开始</li>
<li>不同 MySQL 版本函数可能有差异</li>
</ol>
<hr>
<p><strong>下一篇</strong>：[MySQL 进阶教程（二）：数据库约束详解](&#x2F;2026&#x2F;02&#x2F;23&#x2F;MySQL 进阶教程（二）数据库约束详解&#x2F;)</p>
<p><strong>上一篇</strong>：[MySQL 基础教程（五）：DCL 数据控制语言详解](&#x2F;2026&#x2F;02&#x2F;23&#x2F;MySQL 基础教程（五）DCL 数据控制语言详解&#x2F;)</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://brian-lin-c.github.io">过拟合的炸鱼薯条</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://brian-lin-c.github.io/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/">https://brian-lin-c.github.io/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://brian-lin-c.github.io" target="_blank">过拟合的炸鱼薯条</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a><a class="post-meta__tags" href="/tags/%E5%87%BD%E6%95%B0/">函数</a><a class="post-meta__tags" href="/tags/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/">内置函数</a></div><div class="post-share"><div class="social-share" data-image="/img/%E5%A4%B4%E5%83%8F.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A6%E6%9D%9F%E8%AF%A6%E8%A7%A3/" title="MySQL 进阶教程（二）数据库约束详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">MySQL 进阶教程（二）数据库约束详解</div></div><div class="info-2"><div class="info-item-1">MySQL 进阶教程（二）数据库约束详解数据库约束用于保证数据的完整性、一致性和有效性。本文将详细讲解 MySQL 中的各种约束类型及其使用方法。 一、约束概述1.1 什么是约束？约束（Constraint） 是施加在数据库表上的规则，用于限制可以存储在表中的数据，确保数据的准确性和可靠性。 1.2 约束的作用 保证数据完整性：防止无效或不一致的数据 维护数据一致性：确保相关表之间的数据关系正确 提高数据质量：强制执行业务规则 减少应用层验证：在数据库层面进行数据验证  1.3 约束的分类   约束类型 关键字 说明 列级&#x2F;表级    主键约束 PRIMARY KEY 唯一标识每条记录 两者   外键约束 FOREIGN KEY 建立表与表之间的关系 表级   唯一约束 UNIQUE 列值必须唯一 两者   非空约束 NOT NULL 列值不能为空 列级   默认约束 DEFAULT 列的默认值 列级   检查约束 CHECK 满足指定条件 表级   1.4 约束的定义时机 列级约束：在定义列时指定，直接跟在列名后面 表级约束：在所有列定义完成后，在表末尾指定  二、约...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%94%EF%BC%89DCL%20%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80%E8%AF%A6%E8%A7%A3/" title="MySQL 基础教程（五）DCL 数据控制语言详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">MySQL 基础教程（五）DCL 数据控制语言详解</div></div><div class="info-2"><div class="info-item-1">MySQL 基础教程（五）DCL 数据控制语言详解DCL（Data Control Language，数据控制语言）用于管理数据库权限和事务控制。本文我们将学习如何创建用户、管理权限，以及事务控制的相关知识。 一、DCL 概述DCL 主要包含两类操作：  权限管理：GRANT（授权）、REVOKE（撤销权限） 事务控制：COMMIT（提交）、ROLLBACK（回滚）、SAVEPOINT（保存点）     命令 功能 分类    GRANT 授予用户权限 权限管理   REVOKE 撤销用户权限 权限管理   COMMIT 提交事务 事务控制   ROLLBACK 回滚事务 事务控制   SAVEPOINT 设置保存点 事务控制   二、用户管理2.1 用户表结构MySQL 的用户信息存储在 mysql.user 表中： 12345-- 查看所有用户SELECT user, host FROM mysql.user;-- 查看用户详细信息SELECT user, host, authentication_string, plugin FROM mysql.user;  用户名的组成...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%89%EF%BC%89%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E8%AF%A6%E8%A7%A3/" title="MySQL 进阶教程（三）多表查询详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 进阶教程（三）多表查询详解</div></div><div class="info-2"><div class="info-item-1">MySQL 进阶教程（三）多表查询详解在实际应用中，数据通常分布在多个表中。多表查询是 SQL 中最重要、最实用的技能之一。本文将详细讲解多表关系、连接查询、联合查询和子查询。 一、多表关系介绍1.1 表与表之间的关系数据库中的表不是孤立的，它们之间通过各种关系相互关联。主要有三种关系：    关系类型 说明 示例    一对一（1:1） 一个表的一条记录对应另一个表的一条记录 用户和用户详情   一对多（1:N） 一个表的一条记录对应另一个表的多条记录 部门和员工   多对多（N:M） 一个表的多条记录对应另一个表的多条记录 学生和课程   1.2 一对一关系（1:1）特点：  表 A 的一条记录对应表 B 的一条记录 通常用于拆分大表，提高性能 外键可以放在任意一方  1234567891011121314151617181920-- 用户表CREATE TABLE users (    id INT PRIMARY KEY AUTO_INCREMENT,    username VARCHAR(50) NOT NULL,    password VARCHAR(255) N...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E5%9B%9B%EF%BC%89%E4%BA%8B%E5%8A%A1%E8%AF%A6%E8%A7%A3/" title="MySQL 进阶教程（四）事务详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 进阶教程（四）事务详解</div></div><div class="info-2"><div class="info-item-1">MySQL 进阶教程（四）事务详解事务是数据库管理的核心技术之一，用于保证数据的完整性和一致性。本文将详细讲解事务的概念、ACID 特性、并发问题以及隔离级别。 一、事务简介1.1 什么是事务？事务（Transaction） 是数据库管理系统执行过程中的一个逻辑单位，由一个有限的数据库操作序列构成。这些操作要么全部成功执行，要么全部不执行，是一个不可分割的工作单位。 1.2 事务的特点 原子性：事务是一个不可分割的操作序列 一致性：事务执行前后，数据保持一致 独立性：多个事务并发执行时互不干扰 持久性：事务一旦提交，修改永久保存  1.3 事务的使用场景   场景 说明    银行转账 A 转给 B 钱，A 扣款和 B 收款必须同时成功或失败   订单创建 创建订单、扣减库存、生成物流单必须同时成功   批量操作 批量导入数据，要么全部导入成功，要么全部回滚   数据一致性 更新多个关联表时保持一致性   1.4 不使用事务的问题12345678910-- 不使用事务的转账操作-- 步骤 1：A 账户扣款UPDATE accounts SET balance = balance ...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E4%B8%8E%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="MySQL 基础教程（一）数据库基础与环境搭建"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 基础教程（一）数据库基础与环境搭建</div></div><div class="info-2"><div class="info-item-1">MySQL 基础教程（一）数据库基础与环境搭建欢迎来到 MySQL 基础教程系列的第一篇！在本篇文章中，我们将从零开始了解数据库的基本概念，完成 MySQL 的安装配置，并了解数据模型和 SQL 的分类。 一、数据库相关概念1.1 什么是数据库？数据库（Database） 是按照数据结构来组织、存储和管理数据的仓库。它可以持久化存储数据，并且支持高效的数据访问和管理。 简单来说，数据库就是一个电子化的文件柜，用于存储和管理数据。 1.2 什么是 DBMS？DBMS（Database Management System，数据库管理系统） 是用于创建、管理和维护数据库的软件。 常见的 DBMS 有：  MySQL：开源、轻量、流行，适合中小型项目 Oracle：功能强大、性能优异，适合大型企业 SQL Server：微软出品，与 Windows 生态集成良好 PostgreSQL：开源、功能丰富，支持复杂查询 SQLite：嵌入式数据库，适合移动端和小型应用  1.3 数据库的优势   对比项 文件系统 数据库系统    数据结构 松散，由应用程序定义 结构化，由 DBMS 统一管理...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A6%E6%9D%9F%E8%AF%A6%E8%A7%A3/" title="MySQL 进阶教程（二）数据库约束详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 进阶教程（二）数据库约束详解</div></div><div class="info-2"><div class="info-item-1">MySQL 进阶教程（二）数据库约束详解数据库约束用于保证数据的完整性、一致性和有效性。本文将详细讲解 MySQL 中的各种约束类型及其使用方法。 一、约束概述1.1 什么是约束？约束（Constraint） 是施加在数据库表上的规则，用于限制可以存储在表中的数据，确保数据的准确性和可靠性。 1.2 约束的作用 保证数据完整性：防止无效或不一致的数据 维护数据一致性：确保相关表之间的数据关系正确 提高数据质量：强制执行业务规则 减少应用层验证：在数据库层面进行数据验证  1.3 约束的分类   约束类型 关键字 说明 列级&#x2F;表级    主键约束 PRIMARY KEY 唯一标识每条记录 两者   外键约束 FOREIGN KEY 建立表与表之间的关系 表级   唯一约束 UNIQUE 列值必须唯一 两者   非空约束 NOT NULL 列值不能为空 列级   默认约束 DEFAULT 列的默认值 列级   检查约束 CHECK 满足指定条件 表级   1.4 约束的定义时机 列级约束：在定义列时指定，直接跟在列名后面 表级约束：在所有列定义完成后，在表末尾指定  二、约...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%94%EF%BC%89%E5%9F%BA%E7%A1%80%E7%AF%87%E6%80%BB%E7%BB%93/" title="MySQL 进阶教程（五）基础篇总结"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 进阶教程（五）基础篇总结</div></div><div class="info-2"><div class="info-item-1">MySQL 进阶教程（五）基础篇总结至此，MySQL 基础篇和进阶教程全部完成！本文将对整个系列进行系统总结，并提供学习路线建议。 一、系列文章回顾基础教程系列   篇目 主题 核心内容    基础（一） 数据库基础与环境搭建 数据库概念、MySQL 安装、数据模型、SQL 分类   基础（二） DDL 数据定义语言 数据库操作、表操作、数据类型、DataGrip   基础（三） DML 数据操作语言 INSERT、UPDATE、DELETE、事务基础   基础（四） DQL 数据查询语言 基础查询、条件查询、聚合函数、分组、排序、分页、连接查询、子查询   基础（五） DCL 数据控制语言 用户管理、权限控制、事务控制   进阶教程系列   篇目 主题 核心内容    进阶（一） 常用函数详解 字符串函数、数值函数、日期函数、流程函数   进阶（二） 数据库约束 主键、外键、唯一、非空、默认、检查约束   进阶（三） 多表查询 表关系、连接查询、联合查询、子查询   进阶（四） 事务 ACID 特性、并发问题、隔离级别、锁机制   二、知识体系思维导图2.1 SQL 语言分类1...</div></div></div></a><a class="pagination-related" href="/2026/02/23/MySQL%20%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%EF%BC%88%E5%9B%9B%EF%BC%89DQL%20%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%8B%EF%BC%89/" title="MySQL 基础教程（四）DQL 数据查询语言详解（下）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-23</div><div class="info-item-2">MySQL 基础教程（四）DQL 数据查询语言详解（下）</div></div><div class="info-2"><div class="info-item-1">MySQL 基础教程（四）DQL 数据查询语言详解（下）承接上文，本文继续讲解 DQL 的排序查询、分页查询、综合案例以及 SQL 执行顺序。 七、排序查询（ORDER BY）ORDER BY 用于对查询结果进行排序。 7.1 基础排序1234567891011-- 升序排序（ASC，默认）SELECT name, salary FROM employeesORDER BY salary ASC;-- 降序排序（DESC）SELECT name, salary FROM employeesORDER BY salary DESC;-- 按字符串排序SELECT name FROM employeesORDER BY name ASC;  -- 按拼音排序  7.2 多列排序123456789-- 先按部门排序，部门相同按工资降序SELECT name, dept_id, salaryFROM employeesORDER BY dept_id ASC, salary DESC;-- 先按在职状态排序，再按工资降序SELECT name, status, salaryFROM em...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">过拟合的炸鱼薯条</div><div class="author-info-description">好好学习，天天向上</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">68</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Brian-Lin-C"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Brian-Lin-C" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的个人博客！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL-%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">MySQL 进阶教程（一）常用函数详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%87%BD%E6%95%B0%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">一、函数概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">二、字符串函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5%E4%B8%8E%E9%95%BF%E5%BA%A6"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 字符串连接与长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 大小写转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 字符串截取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4 字符串查找与替换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E5%8E%BB%E9%99%A4%E7%A9%BA%E6%A0%BC"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5 去除空格</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A1%AB%E5%85%85"><span class="toc-number">1.2.6.</span> <span class="toc-text">2.6 字符串填充</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8D%E8%BD%AC%E4%B8%8E%E9%87%8D%E5%A4%8D"><span class="toc-number">1.2.7.</span> <span class="toc-text">2.7 字符串反转与重复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83"><span class="toc-number">1.2.8.</span> <span class="toc-text">2.8 字符串比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.9.</span> <span class="toc-text">2.9 其他常用函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">三、数值函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%BB%9D%E5%AF%B9%E5%80%BC%E4%B8%8E%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 绝对值与符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5%E4%B8%8E%E6%88%AA%E6%96%AD"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 四舍五入与截断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%8F%96%E6%A8%A1%E8%BF%90%E7%AE%97"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3 取模运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4 随机数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%82%E8%BF%90%E7%AE%97%E4%B8%8E%E5%BC%80%E6%96%B9"><span class="toc-number">1.3.5.</span> <span class="toc-text">3.5 幂运算与开方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E8%A7%92%E5%BA%A6%E4%B8%8E%E5%BC%A7%E5%BA%A6"><span class="toc-number">1.3.6.</span> <span class="toc-text">3.6 角度与弧度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-%E5%85%B6%E4%BB%96%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.7.</span> <span class="toc-text">3.7 其他数值函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.</span> <span class="toc-text">四、日期时间函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 获取当前日期时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E6%8F%90%E5%8F%96"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2 日期时间提取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3 日期时间格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%97%A5%E6%9C%9F"><span class="toc-number">1.4.4.</span> <span class="toc-text">4.4 字符串转日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E8%BF%90%E7%AE%97"><span class="toc-number">1.4.5.</span> <span class="toc-text">4.5 日期时间运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E6%97%A5%E6%9C%9F%E5%B7%AE%E5%80%BC"><span class="toc-number">1.4.6.</span> <span class="toc-text">4.6 日期差值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-%E6%97%A5%E6%9C%9F%E8%BE%B9%E7%95%8C%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.7.</span> <span class="toc-text">4.7 日期边界函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B"><span class="toc-number">1.4.8.</span> <span class="toc-text">4.8 日期函数实战案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%B5%81%E7%A8%8B%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">五、流程函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-IF-%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 IF 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-IFNULL-%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 IFNULL 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-NULLIF-%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3 NULLIF 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-CASE-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4 CASE 表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95-CASE"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">简单 CASE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2-CASE"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">搜索 CASE</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-CASE-%E5%9C%A8-ORDER-BY-%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.5 CASE 在 ORDER BY 中的应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%85%B6%E4%BB%96%E5%AE%9E%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.</span> <span class="toc-text">六、其他实用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E4%BF%A1%E6%81%AF%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 信息函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%8A%A0%E9%94%81%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2 加锁函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E5%8A%A0%E5%AF%86%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.</span> <span class="toc-text">6.3 加密函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-JSON-%E5%87%BD%E6%95%B0%EF%BC%88MySQL-5-7-%EF%BC%89"><span class="toc-number">1.6.4.</span> <span class="toc-text">6.4 JSON 函数（MySQL 5.7+）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%87%BD%E6%95%B0%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.7.</span> <span class="toc-text">七、函数性能优化建议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E9%81%BF%E5%85%8D%E5%9C%A8%E7%B4%A2%E5%BC%95%E5%88%97%E4%B8%8A%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.7.1.</span> <span class="toc-text">7.1 避免在索引列上使用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8-ORDER-BY-RAND"><span class="toc-number">1.7.2.</span> <span class="toc-text">7.2 避免使用 ORDER BY RAND()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8-SELECT"><span class="toc-number">1.7.3.</span> <span class="toc-text">7.3 避免使用 SELECT *</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E5%B0%8F%E7%BB%93"><span class="toc-number">1.8.</span> <span class="toc-text">八、小结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%80%9F%E6%9F%A5%E8%A1%A8"><span class="toc-number">1.8.1.</span> <span class="toc-text">函数速查表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-number">1.8.2.</span> <span class="toc-text">实用技巧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.8.3.</span> <span class="toc-text">注意事项</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/IDE%20%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE%EF%BC%9AVS%20Code%20+%20Jupyter%20+%20DataGrip/" title="IDE 工具配置：VS Code + Jupyter + DataGrip">IDE 工具配置：VS Code + Jupyter + DataGrip</a><time datetime="2026-02-24T15:00:00.000Z" title="发表于 2026-02-24 23:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/Git%20%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C/" title="Git 版本控制与团队协作">Git 版本控制与团队协作</a><time datetime="2026-02-24T14:00:00.000Z" title="发表于 2026-02-24 22:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/Linux%20%E4%B8%8E%20Shell%EF%BC%88%E4%BA%8C%EF%BC%89Shell%20%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99/" title="Linux 与 Shell（二）Shell 脚本编写">Linux 与 Shell（二）Shell 脚本编写</a><time datetime="2026-02-24T13:00:00.000Z" title="发表于 2026-02-24 21:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/Linux%20%E4%B8%8E%20Shell%EF%BC%88%E4%B8%80%EF%BC%89Linux%20%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="Linux 与 Shell（一）Linux 基础与常用命令">Linux 与 Shell（一）Linux 基础与常用命令</a><time datetime="2026-02-24T12:00:00.000Z" title="发表于 2026-02-24 20:00:00">2026-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/24/Python%20%E5%B8%B8%E7%94%A8%E5%BA%93%EF%BC%88%E4%B8%89%EF%BC%89logging%20%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97/" title="Python 常用库（三）logging 日志模块">Python 常用库（三）logging 日志模块</a><time datetime="2026-02-24T11:00:00.000Z" title="发表于 2026-02-24 19:00:00">2026-02-24</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By 过拟合的炸鱼薯条</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.4</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索..." type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>